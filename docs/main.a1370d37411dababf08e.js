(self.webpackChunkpos_mock_interface=self.webpackChunkpos_mock_interface||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},7716:(t,e,n)=>{"use strict";n.d(e,{AFp:()=>_a,ip1:()=>ba,CZH:()=>wa,hGG:()=>pu,z2F:()=>cu,sBO:()=>Js,_Vd:()=>vs,EJc:()=>ka,SBq:()=>Es,qLn:()=>dr,vpe:()=>va,gxx:()=>Wi,OlP:()=>Ze,zs3:()=>ho,ZZ4:()=>Us,aQg:()=>Bs,soG:()=>Aa,h0i:()=>ea,PXZ:()=>iu,R0b:()=>Ua,FiY:()=>gn,Lbi:()=>Sa,g9A:()=>Ta,Qsj:()=>Ts,FYo:()=>Is,JOm:()=>mr,Tiy:()=>Cs,q3G:()=>ir,tp0:()=>mn,Rgc:()=>Ys,dDg:()=>Ja,q4F:()=>As,GfV:()=>xs,s_b:()=>ra,ifc:()=>L,eFA:()=>ou,G48:()=>nu,f3M:()=>hn,X6Q:()=>eu,_c5:()=>fu,VLi:()=>Wa,c2e:()=>xa,zSh:()=>Yi,wAp:()=>is,vHH:()=>m,EiD:()=>nr,mCW:()=>jn,qzn:()=>An,JVY:()=>Nn,pB0:()=>Rn,eBb:()=>On,L6k:()=>Dn,LAX:()=>Pn,cg1:()=>es,Tjo:()=>hu,kL8:()=>ns,yhl:()=>kn,dqk:()=>U,sIi:()=>_o,QGY:()=>Oo,F4k:()=>Po,RDi:()=>Tt,AaK:()=>l,z3N:()=>xn,qOj:()=>po,TTD:()=>vt,_Bn:()=>gs,xp6:()=>ri,uIk:()=>To,ekj:()=>Ho,Xpm:()=>$,lG2:()=>it,Yz7:()=>w,cJS:()=>_,oAB:()=>et,Yjl:()=>ot,Y36:()=>Co,_UZ:()=>Do,qZA:()=>No,TgZ:()=>ko,n5z:()=>Ge,Ikx:()=>$o,LFG:()=>ln,$8M:()=>ze,NdJ:()=>Lo,oxw:()=>Vo,Hsn:()=>qo,F$t:()=>Uo,Q6J:()=>xo,oJD:()=>or,LSH:()=>sr,kYT:()=>nt,YNc:()=>So,_uU:()=>Qo,hij:()=>Wo});var r=n(9765),i=n(5319),o=n(7574),s=n(6682),a=n(3522);function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function b(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${v(t)} found${n}`)}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return I(t,S)||I(t,x)}function I(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(A))?t[C]:null}const S=u({"\u0275prov":u}),C=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),A=u({ngInjectorDef:u});var k=(()=>((k=k||{})[k.Default=0]="Default",k[k.Host=1]="Host",k[k.Self=2]="Self",k[k.SkipSelf=4]="SkipSelf",k[k.Optional=8]="Optional",k))();let N;function D(t){const e=N;return N=t,e}function O(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void b(l(t),"Injector")}function P(t){return{toString:t}.toString()}var R=(()=>((R=R||{})[R.OnPush=0]="OnPush",R[R.Default=1]="Default",R))(),L=(()=>((L=L||{})[L.Emulated=0]="Emulated",L[L.None=2]="None",L[L.ShadowDom=3]="ShadowDom",L))();const F="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,U=F||j||M||V,q={},B=[],G=u({"\u0275cmp":u}),H=u({"\u0275dir":u}),z=u({"\u0275pipe":u}),K=u({"\u0275mod":u}),J=u({"\u0275loc":u}),Z=u({"\u0275fac":u}),Q=u({__NG_ELEMENT_ID__:u});let W=0;function $(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||B,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||B,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=W++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Y):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(X):null,n})}function Y(t){return st(t)||function(t){return t[H]||null}(t)}function X(t){return function(t){return t[z]||null}(t)}const tt={};function et(t){return P(()=>{const e={type:t.type,bootstrap:t.bootstrap||B,declarations:t.declarations||B,imports:t.imports||B,exports:t.exports||B,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(tt[t.id]=t.type),e})}function nt(t,e){return P(()=>{const n=at(t,!0);n.declarations=e.declarations||B,n.imports=e.imports||B,n.exports=e.exports||B})}function rt(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const it=$;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function st(t){return t[G]||null}function at(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ut=20,ct=10;function lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function dt(t){return 2==(2&t.flags)}function pt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function mt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return bt}function bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=_t),wt}function wt(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function _t(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new yt(u&&u.currentValue,e,s===q),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}let It;function Tt(t){It=t}function St(){return void 0!==It?It:"undefined"!=typeof document?document:void 0}function Ct(t){return!!t.listen}vt.ngInherit=!0;const xt={createRenderer:(t,e)=>St()};function At(t){for(;Array.isArray(t);)t=t[0];return t}function kt(t,e){return At(e[t])}function Nt(t,e){return At(e[t.index])}function Dt(t,e){return t.data[e]}function Ot(t,e){const n=e[t];return lt(n)?n:n[0]}function Pt(t){return 128==(128&t[2])}function Rt(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Ft(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Mt={lFrame:ne(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return Mt.bindingsEnabled}function jt(){return Mt.lFrame.lView}function Ut(){return Mt.lFrame.tView}function qt(){let t=Bt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bt(){return Mt.lFrame.currentTNode}function Gt(t,e){const n=Mt.lFrame;n.currentTNode=t,n.isParent=e}function Ht(){return Mt.lFrame.isParent}function zt(){Mt.lFrame.isParent=!1}function Kt(){return Mt.isInCheckNoChangesMode}function Jt(t){Mt.isInCheckNoChangesMode=t}function Zt(){return Mt.lFrame.bindingIndex++}function Qt(t,e){const n=Mt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wt(e)}function Wt(t){Mt.lFrame.currentDirectiveIndex=t}function $t(t){Mt.lFrame.currentQueryIndex=t}function Yt(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Xt(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=Yt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Mt.lFrame=ee();return r.currentTNode=e,r.lView=t,!0}function te(t){const e=ee(),n=t[1];Mt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ee(){const t=Mt.lFrame,e=null===t?null:t.child;return null===e?ne(t):e}function ne(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function re(){const t=Mt.lFrame;return Mt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ie=re;function oe(){const t=re();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function se(){return Mt.lFrame.selectedIndex}function ae(t){Mt.lFrame.selectedIndex=t}function ue(){const t=Mt.lFrame;return Dt(t.tView,t.selectedIndex)}function ce(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function le(t,e,n){de(t,e,3,n)}function he(t,e,n,r){(3&t[2])===n&&de(t,e,n,r)}function fe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function de(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(pe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function pe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const ge=-1;class me{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ye(t,e,n){const r=Ct(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];be(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function ve(t){return 3===t||4===t||6===t}function be(t){return 64===t.charCodeAt(0)}function we(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||_e(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function _e(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ee(t){return t!==ge}function Ie(t){return 32767&t}function Te(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Se=!0;function Ce(t){const e=Se;return Se=t,e}let xe=0;function Ae(t,e){const n=Ne(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ke(r.data,t),ke(e,null),ke(r.blueprint,null));const i=De(t,e),o=t.injectorIndex;if(Ee(i)){const t=Ie(i),n=Te(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function ke(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ne(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function De(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ge;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ge}function Oe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=xe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Pe(t,e,n){if(n&k.Optional)return t;b(e,"NodeInjector")}function Re(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&k.Optional):O(e,r,n&k.Optional)}finally{D(o)}}return Pe(r,e,n)}function Le(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:Me:e}(n);if("function"==typeof o){if(!Xt(e,t,r))return r&k.Host?Pe(i,n,r):Re(e,n,r,i);try{const t=o(r);if(null!=t||r&k.Optional)return t;b(n)}finally{ie()}}else if("number"==typeof o){let i=null,s=Ne(t,e),a=ge,u=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(a=-1===s?De(t,e):e[s+8],a!==ge&&qe(r,!1)?(i=e[1],s=Ie(a),e=Te(a,e)):s=-1);-1!==s;){const t=e[1];if(Ue(o,s,t.data)){const t=Ve(s,e,n,i,r,u);if(t!==Fe)return t}a=e[s+8],a!==ge&&qe(r,e[1].data[s+8]===u)&&Ue(o,s,e)?(i=t,s=Ie(a),e=Te(a,e)):s=-1}}}return Re(e,n,r,i)}const Fe={};function Me(){return new Be(qt(),jt())}function Ve(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&gt(t)&&t.type===n)return u}return null}(a,s,n,null==r?dt(a)&&Se:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==u?je(e,s,u,a):Fe}function je(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof me){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(v(o[n]));const a=Ce(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?D(s.injectImpl):null;Xt(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&D(u),Ce(a),s.resolving=!1,ie()}}return i}function Ue(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function qe(t,e){return!(t&k.Self||t&k.Host&&e)}class Be{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Le(this._tNode,this._lView,t,void 0,e)}}function Ge(t){return P(()=>{const e=t.prototype.constructor,n=e[Z]||He(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||He(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function He(t){return g(t)?()=>{const e=He(p(t));return e&&e()}:mt(t)}function ze(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ve(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(qt(),t)}const Ke="__parameters__";function Je(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ke)?t[Ke]:Object.defineProperty(t,Ke,{value:[]})[Ke];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ze{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Qe(t,e){t.forEach(t=>Array.isArray(t)?Qe(t,e):e(t))}function We(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $e(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ye(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Xe(t,e,n){let r=en(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function tn(t,e){const n=en(t,e);if(n>=0)return t[1|n]}function en(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const nn={},rn=/\n/gm,on="__source",sn=u({provide:String,useValue:u});let an;function un(t){const e=an;return an=t,e}function cn(t,e=k.Default){if(void 0===an)throw new Error("inject() must be called from an injection context");return null===an?O(t,void 0,e):an.get(t,e&k.Optional?null:void 0,e)}function ln(t,e=k.Default){return(N||cn)(p(t),e)}const hn=ln;function fn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(ln(t,n))}else e.push(ln(r))}return e}function dn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const pn=dn(Je("Inject",t=>({token:t})),-1),gn=dn(Je("Optional"),8),mn=dn(Je("SkipSelf"),4);let yn,vn;function bn(t){var e;return(null===(e=function(){if(void 0===yn&&(yn=null,U.trustedTypes))try{yn=U.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return yn}())||void 0===e?void 0:e.createHTML(t))||t}function wn(t){var e;return(null===(e=function(){if(void 0===vn&&(vn=null,U.trustedTypes))try{vn=U.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return vn}())||void 0===e?void 0:e.createHTML(t))||t}class _n{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class En extends _n{getTypeName(){return"HTML"}}class In extends _n{getTypeName(){return"Style"}}class Tn extends _n{getTypeName(){return"Script"}}class Sn extends _n{getTypeName(){return"URL"}}class Cn extends _n{getTypeName(){return"ResourceURL"}}function xn(t){return t instanceof _n?t.changingThisBreaksApplicationSecurity:t}function An(t,e){const n=kn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function kn(t){return t instanceof _n&&t.getTypeName()||null}function Nn(t){return new En(t)}function Dn(t){return new In(t)}function On(t){return new Tn(t)}function Pn(t){return new Sn(t)}function Rn(t){return new Cn(t)}class Ln{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(bn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Fn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=bn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=bn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Mn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Vn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jn(t){return(t=String(t)).match(Mn)||t.match(Vn)?t:"unsafe:"+t}function Un(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function qn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Bn=Un("area,br,col,hr,img,wbr"),Gn=Un("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hn=Un("rp,rt"),zn=qn(Hn,Gn),Kn=qn(Bn,qn(Gn,Un("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qn(Hn,Un("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zn),Jn=Un("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zn=Un("srcset"),Qn=qn(Jn,Zn,Un("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Un("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wn=Un("script,style,template");class $n{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Kn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Wn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Qn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Jn[o]&&(s=jn(s)),Zn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>jn(t.trim())).join(", ")),this.buf.push(" ",e,'="',tr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Kn.hasOwnProperty(e)&&!Bn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(tr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Yn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xn=/([^\#-~ |!])/g;function tr(t){return t.replace(/&/g,"&amp;").replace(Yn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Xn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let er;function nr(t,e){let n=null;try{er=er||function(t){const e=new Fn(t);return function(){try{return!!(new window.DOMParser).parseFromString(bn(""),"text/html")}catch(t){return!1}}()?new Ln(e):e}(t);let r=e?String(e):"";n=er.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=er.getInertBodyElement(r)}while(r!==o);return bn((new $n).sanitizeChildren(rr(n)||n))}finally{if(n){const t=rr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function rr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ir=(()=>((ir=ir||{})[ir.NONE=0]="NONE",ir[ir.HTML=1]="HTML",ir[ir.STYLE=2]="STYLE",ir[ir.SCRIPT=3]="SCRIPT",ir[ir.URL=4]="URL",ir[ir.RESOURCE_URL=5]="RESOURCE_URL",ir))();function or(t){const e=ar();return e?wn(e.sanitize(ir.HTML,t)||""):An(t,"HTML")?wn(xn(t)):nr(St(),y(t))}function sr(t){const e=ar();return e?e.sanitize(ir.URL,t)||"":An(t,"URL")?xn(t):jn(y(t))}function ar(){const t=jt();return t&&t[12]}function ur(t,e){t.__ngContext__=e}function cr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function lr(t){return t.ngDebugContext}function hr(t){return t.ngOriginalError}function fr(t,...e){t.error(...e)}class dr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||fr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?lr(t)?lr(t):this._findContext(hr(t)):null}_findOriginalError(t){let e=hr(t);for(;e&&hr(e);)e=hr(e);return e}}const pr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function gr(t){return t instanceof Function?t():t}var mr=(()=>((mr=mr||{})[mr.Important=1]="Important",mr[mr.DashCase=2]="DashCase",mr))();function yr(t,e){return(void 0)(t,e)}function vr(t){const e=t[3];return ht(e)?e[3]:e}function br(t){return _r(t[13])}function wr(t){return _r(t[4])}function _r(t){for(;null!==t&&!ht(t);)t=t[4];return t}function Er(t,e,n,r,i){if(null!=r){let o,s=!1;ht(r)?o=r:lt(r)&&(s=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?Nr(e,n,a):kr(e,n,a,i||null,!0):1===t&&null!==n?kr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Or(t,e);r&&function(t,e,n,r){Ct(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==At(n)&&Er(e,t,r,o,i);for(let s=ct;s<n.length;s++){const i=n[s];Ur(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ir(t,e,n){return Ct(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Tr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ft(i,-1)),n.splice(r,1)}function Sr(t,e){if(t.length<=ct)return;const n=ct+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Tr(o,r),e>0&&(t[n-1][4]=r[4]);const s=$e(t,ct+e);Ur(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Cr(t,e){if(!(256&e[2])){const n=e[11];Ct(n)&&n.destroyNode&&Ur(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return xr(t[1],t);for(;e;){let n=null;if(lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)lt(e)&&xr(e[1],e),e=e[3];null===e&&(e=t),lt(e)&&xr(e[1],e),n=e&&e[4]}e=n}}(e)}}function xr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof me)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):At(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Ct(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&Tr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ar(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}function kr(t,e,n,r,i){Ct(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Nr(t,e,n){Ct(t)?t.appendChild(e,n):e.appendChild(n)}function Dr(t,e,n,r,i){null!==r?kr(t,e,n,r,i):Nr(t,e,n)}function Or(t,e){return Ct(t)?t.parentNode(e):e.parentNode}function Pr(t,e,n){return Rr(t,e,n)}let Rr=function(t,e,n){return 40&t.type?Nt(t,n):null};function Lr(t,e,n,r){const i=Ar(t,r,e),o=e[11],s=Pr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Dr(o,i,n[a],s,!1);else Dr(o,i,n,s,!1)}function Fr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Vr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Fr(t,n);{const n=t[e.index];return ht(n)?Vr(-1,n):At(n)}}if(32&n)return yr(e,t)()||At(t[e.index]);{const n=Mr(t,e);return null!==n?Array.isArray(n)?n[0]:Fr(vr(t[16]),n):Fr(t,e.next)}}return null}function Mr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Vr(t,e){const n=ct+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Fr(t,r)}return e[7]}function jr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&ur(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)jr(t,e,n.child,r,i,o,!1),Er(e,t,i,a,o);else if(32&u){const s=yr(n,r);let u;for(;u=s();)Er(e,t,i,u,o);Er(e,t,i,a,o)}else 16&u?qr(t,e,r,n,i,o):Er(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ur(t,e,n,r,i,o){jr(n,r,t.firstChild,e,i,o,!1)}function qr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Er(e,t,i,a[u],o);else jr(t,e,a,s[3],i,o,!0)}function Br(t,e,n){Ct(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Gr(t,e,n){Ct(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Hr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const zr="ng-template";function Kr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Hr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Jr(t){return 4===t.type&&t.value!==zr}function Zr(t,e,n){return e===(4!==t.type||n?t.value:zr)}function Qr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(ve(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Zr(t,u,n)||""===u&&1===e.length){if(Wr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Kr(t.attrs,c,n)){if(Wr(r))return!1;s=!0}continue}const l=$r(8&r?"class":u,i,Jr(t),n);if(-1===l){if(Wr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Hr(e,c,0)||2&r&&c!==t){if(Wr(r))return!1;s=!0}}}}else{if(!s&&!Wr(r)&&!Wr(u))return!1;if(s&&Wr(u))continue;s=!1,r=u|1&r}}return Wr(r)||s}function Wr(t){return 0==(1&t)}function $r(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Yr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Qr(t,e[r],n))return!0;return!1}function Xr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ti(t,e){return t?":not("+e.trim()+")":e}function ei(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Wr(s)||(e+=ti(o,i),i=""),r=s,o=o||!Wr(r);n++}return""!==i&&(e+=ti(o,i)),e}const ni={};function ri(t){ii(Ut(),jt(),se()+t,Kt())}function ii(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&le(e,r,n)}else{const r=t.preOrderHooks;null!==r&&he(e,r,0,n)}ae(n)}function oi(t,e){return t<<17|e<<2}function si(t){return t>>17&32767}function ai(t){return 2|t}function ui(t){return(131068&t)>>2}function ci(t,e){return-131069&t|e<<2}function li(t){return 1|t}function hi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];$t(i),n.contentQueries(2,e[o],o)}}}function fi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function di(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Bt(),s=Ht(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Mt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Mt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Gt(o,!0),o}function pi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gi(t,e,n){te(e);try{const r=t.viewQuery;null!==r&&Gi(1,r,n);const i=t.template;null!==i&&vi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&hi(t,e),t.staticViewQueries&&Gi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Vi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,oe()}}function mi(t,e,n,r){const i=e[2];if(256==(256&i))return;te(e);const o=Kt();try{Lt(e),Mt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&vi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&le(e,n,null)}else{const n=t.preOrderHooks;null!==n&&he(e,n,0,null),fe(e,0)}if(function(t){for(let e=br(t);null!==e;e=wr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ft(r,1),n[2]|=1024}}}(e),function(t){for(let e=br(t);null!==e;e=wr(e))for(let t=ct;t<e.length;t++){const n=e[t],r=n[1];Pt(n)&&mi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&hi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&le(e,n)}else{const n=t.contentHooks;null!==n&&he(e,n,1),fe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ae(~r);else{const i=r,o=n[++t],s=n[++t];Qt(o,i),s(2,e[i])}}}finally{ae(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Gi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&le(e,n)}else{const n=t.viewHooks;null!==n&&he(e,n,2),fe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ft(e[3],-1))}finally{oe()}}function yi(t,e,n,r){const i=e[10],o=!Kt(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&gi(t,e,r),mi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function vi(t,e,n,r,i){const o=se(),s=2&r;try{ae(-1),s&&e.length>ut&&ii(t,e,ut,Kt()),n(r,i)}finally{ae(o)}}function bi(t,e,n){Vt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ae(n,e),ur(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=gt(r);o&&Oi(e,n,r);const u=je(e,t,a,n);ur(u,e),null!==s&&Pi(0,a-i,u,r,0,s),o&&(Ot(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Mt.lFrame.currentDirectiveIndex;try{ae(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Wt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||xi(r,i)}}finally{ae(-1),Wt(s)}}(t,e,n))}function wi(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function _i(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ei(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ei(t,e,n,r,i,o,s,a,u,c){const l=ut+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ni);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ti(t,e,n,r,i,o,s,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Zi(t,n,c,r,i),dt(e)&&function(t,e){const n=Ot(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Ct(o)?o.setProperty(u,r,i):be(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Si(t,e,n,r){let i=!1;if(Vt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Yr(n,s.selectors,!1)&&(i||(i=[]),Oe(Ae(n,e),t,s.type),gt(s)?(Ai(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ni(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=pi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=we(n.mergedAttrs,c.hostAttrs),Di(t,n,e,u,c),ki(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Jr(e)?null:Ri(n,i);o.push(c),s=Ii(n,u,s),a=Ii(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=we(n.mergedAttrs,n.attrs),i}function Ci(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function xi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ai(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ki(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function Ni(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Di(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=mt(i.type)),s=new me(o,gt(i),null);t.blueprint[r]=s,n[r]=s,Ci(t,e,0,r,pi(t,n,i.hostVars,ni),i)}function Oi(t,e,n){const r=Nt(e,t),i=_i(n),o=t[10],s=ji(t,fi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Pi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ri(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Li(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Fi(t,e){const n=Ot(e,t);if(Pt(n)){const t=n[1];80&n[2]?mi(t,n,t.template,n[8]):n[5]>0&&Mi(n)}}function Mi(t){for(let n=br(t);null!==n;n=wr(n))for(let t=ct;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];mi(t,e,t.template,e[8])}else e[5]>0&&Mi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ot(e[n],t);Pt(r)&&r[5]>0&&Mi(r)}}function Vi(t,e){const n=Ot(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),gi(r,n,n[8])}function ji(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ui(t){for(;t;){t[2]|=64;const e=vr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function qi(t,e,n){const r=e[10];r.begin&&r.begin();try{mi(t,e,t.template,n)}catch(i){throw Ji(e,i),i}finally{r.end&&r.end()}}function Bi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=cr(n),i=r[1];yi(i,r,i.template,n)}}(t[8])}function Gi(t,e,n){$t(0),e(t,n)}const Hi=(()=>Promise.resolve(null))();function zi(t){return t[7]||(t[7]=[])}function Ki(t){return t.cleanup||(t.cleanup=[])}function Ji(t,e){const n=t[9],r=n?n.get(dr,null):null;r&&r.handleError(e)}function Zi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Qi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Wi=new Ze("INJECTOR",-1);class $i{get(t,e=nn){if(e===nn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Yi=new Ze("Set Injector scope."),Xi={},to={};let eo;function no(){return void 0===eo&&(eo=new $i),eo}function ro(t,e=null,n=null,r){return new io(t,n,e||no(),r)}class io{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Qe(e,n=>this.processProvider(n,t,e)),Qe([t],t=>this.processInjectorType(t,[],i)),this.records.set(Wi,ao(void 0,this));const o=this.records.get(Yi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=nn,n=k.Default){this.assertNotDestroyed();const r=un(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ze)&&E(t);e=n&&this.injectableDefInScope(n)?ao(oo(t),Xi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?no():this.parent).get(t,e=n&k.Optional&&e===nn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[on]&&i.unshift(e[on]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{un(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Qe(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Qe(r,t=>this.processProvider(t,n,r||B))}}this.injectorDefTypes.add(o);const a=mt(o)||(()=>new o);this.records.set(o,ao(a,Xi));const u=r.providers;if(null!=u&&!s){const e=t;Qe(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=co(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return uo(t)?ao(void 0,t.useValue):ao(so(t),Xi)}(t);if(co(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ao(void 0,Xi,!0),e.factory=()=>fn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Xi&&(e.value=to,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function oo(t){const e=E(t),n=null!==e?e.factory:mt(t);if(null!==n)return n;if(t instanceof Ze)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Ye(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function so(t,e,n){let r;if(co(t)){const e=p(t);return mt(e)||oo(e)}if(uo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...fn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ln(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mt(e)||oo(e);r=()=>new e(...fn(t.deps))}var i;return r}function ao(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function uo(t){return null!==t&&"object"==typeof t&&sn in t}function co(t){return"function"==typeof t}const lo=function(t,e,n){return function(t,e=null,n=null,r){const i=ro(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class ho{static create(t,e){return Array.isArray(t)?lo(t,e,""):lo(t.providers,t.parent,t.name||"")}}function fo(t,e){ce(cr(t)[1],qt())}function po(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=go(t.inputs),e.declaredInputs=go(t.declaredInputs),e.outputs=go(t.outputs);const n=i.hostBindings;n&&vo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&mo(t,o),s&&yo(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===po&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=we(i.hostAttrs,n=we(n,i.hostAttrs))}}(r)}function go(t){return t===q?{}:t===B?[]:t}function mo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function yo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function vo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}ho.THROW_IF_NOT_FOUND=nn,ho.NULL=new $i,ho.\u0275prov=w({token:ho,providedIn:"any",factory:()=>ln(Wi)}),ho.__NG_ELEMENT_ID__=-1;let bo=null;function wo(){if(!bo){const t=U.Symbol;if(t&&t.iterator)bo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(bo=n)}}}return bo}function _o(t){return!!Eo(t)&&(Array.isArray(t)||!(t instanceof Map)&&wo()in t)}function Eo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Io(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function To(t,e,n,r){const i=jt();return Io(i,Zt(),e)&&(Ut(),function(t,e,n,r,i,o){const s=Nt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Ct(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?y(o):s(o,r||"",i);Ct(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(ue(),i,t,e,n,r)),To}function So(t,e,n,r,i,o,s,a){const u=jt(),c=Ut(),l=t+ut,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=di(e,t,4,s||null,Rt(c,a));Si(e,n,l,Rt(c,u)),ce(e,l);const h=l.tViews=Ei(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Gt(h,!1);const f=u[11].createComment("");Lr(c,u,f,h),ur(f,u),ji(u,u[l]=Li(f,u,f,h)),pt(h)&&bi(c,u,h),null!=s&&wi(u,h,a)}function Co(t,e=k.Default){const n=jt();return null===n?ln(t,e):Le(qt(),n,p(t),e)}function xo(t,e,n){const r=jt();return Io(r,Zt(),e)&&Ti(Ut(),ue(),r,t,e,r[11],n,!1),xo}function Ao(t,e,n,r,i){const o=i?"class":"style";Zi(t,n,e.inputs[o],o,r)}function ko(t,e,n,r){const i=jt(),o=Ut(),s=ut+t,a=i[11],u=i[s]=Ir(a,e,Mt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=di(e,t,2,i,Rt(a,o));return Si(e,n,u,Rt(a,s)),null!==u.attrs&&Qi(u,u.attrs,!1),null!==u.mergedAttrs&&Qi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Gt(c,!0);const l=c.mergedAttrs;null!==l&&ye(a,u,l);const h=c.classes;null!==h&&Gr(a,u,h);const f=c.styles;null!==f&&Br(a,u,f),64!=(64&c.flags)&&Lr(o,i,u,c),0===Mt.lFrame.elementDepthCount&&ur(u,i),Mt.lFrame.elementDepthCount++,pt(c)&&(bi(o,i,c),function(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&wi(i,c)}function No(){let t=qt();Ht()?zt():(t=t.parent,Gt(t,!1));const e=t;Mt.lFrame.elementDepthCount--;const n=Ut();n.firstCreatePass&&(ce(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ao(n,e,jt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ao(n,e,jt(),e.stylesWithoutHost,!1)}function Do(t,e,n,r){ko(t,e,n,r),No()}function Oo(t){return!!t&&"function"==typeof t.then}function Po(t){return!!t&&"function"==typeof t.subscribe}const Ro=Po;function Lo(t,e,n,r){const i=jt(),o=Ut(),s=qt();return function(t,e,n,r,i,o,s,a){const u=pt(r),c=t.firstCreatePass&&Ki(t),l=zi(e);let h=!0;if(3&r.type||a){const f=Nt(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(At(t[r.index])):r.index;if(Ct(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Mo(r,e,0,o,!1);const t=n.listen(d,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=Mo(r,e,0,o,!0),d.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=Mo(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),Lo}function Fo(t,e,n,r){try{return!1!==n(r)}catch(i){return Ji(t,i),!1}}function Mo(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Ot(t.index,e):e;0==(32&e[2])&&Ui(s);let a=Fo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Fo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Vo(t=1){return function(t){return(Mt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Mt.lFrame.contextLView))[8]}(t)}function jo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Yr(t,o,!0):Xr(r,o))return i}else n=i}return n}function Uo(t){const e=jt()[16][6];if(!e.projection){const n=e.projection=Ye(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?jo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function qo(t,e=0,n){const r=jt(),i=Ut(),o=di(i,ut+t,16,null,n||null);null===o.projection&&(o.projection=e),zt(),64!=(64&o.flags)&&function(t,e,n){qr(e[11],0,e,n,Ar(t,n,e),Pr(n.parent||e[6],n,e))}(i,r,o)}function Bo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?si(o):ui(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Go(t[a],e)&&(u=!0,t[a+1]=r?li(n):ai(n)),a=r?si(n):ui(n)}u&&(t[n+1]=r?ai(o):li(o))}function Go(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&en(t,e)>=0}function Ho(t,e){return function(t,e,n,r){const i=jt(),o=Ut(),s=function(t){const e=Mt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[se()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Mt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Ko(n=zo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=zo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==ui(r))return t[si(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=zo(null,t,e,n[1],r),n=Ko(n,e.attrs,r),function(t,e,n,r){t[si(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ko(r,t[o].hostAttrs,true);return Ko(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=si(s),u=ui(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||en(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=si(t[a+1]);t[r+1]=oi(e,a),0!==e&&(t[e+1]=ci(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=oi(a,0),0!==a&&(t[a+1]=ci(t[a+1],r)),a=r;else t[r+1]=oi(u,0),0===a?a=r:t[u+1]=ci(t[u+1],r),u=r;l&&(t[r+1]=ai(t[r+1])),Bo(t,c,r,!0),Bo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&en(o,e)>=0&&(n[r+1]=li(n[r+1]))}(e,c,t,r),s=oi(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ni&&Io(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Zo(1==(1&c)?Jo(u,e,n,i,ui(c),s):void 0)||(Zo(o)||function(t){return 2==(2&t)}(c)&&(o=Jo(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Ct(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,kt(se(),n),i,o))}(o,o.data[se()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=l(xn(t))),t}(e),true,s)}(t,e),Ho}function zo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ko(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ko(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xe(t,s,!!n||e[++o]))}return void 0===t?null:t}function Jo(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ni&&(l=c?B:void 0);let h=c?tn(l,r):u===r?l:void 0;if(o&&!Zo(h)&&(h=tn(e,r)),Zo(h)&&(a=h,s))return a;const f=t[i+1];i=s?si(f):ui(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=tn(t,r))}return a}function Zo(t){return void 0!==t}function Qo(t,e=""){const n=jt(),r=Ut(),i=t+ut,o=r.firstCreatePass?di(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Ct(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Lr(r,n,s,o),Gt(o,!1)}function Wo(t,e,n){const r=jt(),i=function(t,e,n,r){return Io(t,Zt(),n)?e+y(n)+r:ni}(r,t,e,n);return i!==ni&&function(t,e,n){const r=kt(e,t);!function(t,e,n){Ct(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,se(),i),Wo}function $o(t,e,n){const r=jt();return Io(r,Zt(),e)&&Ti(Ut(),ue(),r,t,e,r[11],n,!0),$o}const Yo=void 0;var Xo=["en",[["a","p"],["AM","PM"],Yo],[["AM","PM"],Yo,Yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yo,"{1} 'at' {0}",Yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ts={};function es(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=rs(e);if(n)return n;const r=e.split("-")[0];if(n=rs(r),n)return n;if("en"===r)return Xo;throw new Error(`Missing locale data for the locale "${t}".`)}function ns(t){return es(t)[is.PluralCase]}function rs(t){return t in ts||(ts[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),ts[t]}var is=(()=>((is=is||{})[is.LocaleId=0]="LocaleId",is[is.DayPeriodsFormat=1]="DayPeriodsFormat",is[is.DayPeriodsStandalone=2]="DayPeriodsStandalone",is[is.DaysFormat=3]="DaysFormat",is[is.DaysStandalone=4]="DaysStandalone",is[is.MonthsFormat=5]="MonthsFormat",is[is.MonthsStandalone=6]="MonthsStandalone",is[is.Eras=7]="Eras",is[is.FirstDayOfWeek=8]="FirstDayOfWeek",is[is.WeekendRange=9]="WeekendRange",is[is.DateFormat=10]="DateFormat",is[is.TimeFormat=11]="TimeFormat",is[is.DateTimeFormat=12]="DateTimeFormat",is[is.NumberSymbols=13]="NumberSymbols",is[is.NumberFormats=14]="NumberFormats",is[is.CurrencyCode=15]="CurrencyCode",is[is.CurrencySymbol=16]="CurrencySymbol",is[is.CurrencyName=17]="CurrencyName",is[is.Currencies=18]="Currencies",is[is.Directionality=19]="Directionality",is[is.PluralCase=20]="PluralCase",is[is.ExtraData=21]="ExtraData",is))();const os="en-US";let ss=os;function as(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ss=t.toLowerCase().replace(/_/g,"-"))}function us(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)us(t[o],e,n,r,i);else{const o=Ut(),s=jt();let a=co(t)?t:p(t.provide),u=so(t);const c=qt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(co(t)||!t.multi){const r=new me(u,i,Co),d=hs(a,e,i?l:l+f,h);-1===d?(Oe(Ae(c,s),o,a),cs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=hs(a,e,l+f,h),p=hs(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Oe(Ae(c,s),o,a);const l=function(t,e,n,r,i){const o=new me(t,n,Co);return o.multi=[],o.index=e,o.componentProviders=0,ls(o,i,r&&!n),o}(i?ds:fs,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),cs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else cs(o,t,d>-1?d:p,ls(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function cs(t,e,n,r){const i=co(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ls(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fs(t,e,n,r){return ps(this.multi,[])}function ds(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=je(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ps(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ps(i,o);return o}function ps(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function gs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ut();if(r.firstCreatePass){const i=gt(t);us(n,r.data,r.blueprint,i,!0),us(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ms{}class ys{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class vs{}function bs(...t){}function ws(t,e){return new Es(Nt(t,e))}vs.NULL=new ys;const _s=function(){return ws(qt(),jt())};let Es=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=_s,t})();class Is{}let Ts=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ss(),t})();const Ss=function(){const t=jt(),e=Ot(qt().index,t);return function(t){return t[11]}(lt(e)?e:t)};let Cs=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class xs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const As=new xs("12.1.1");class ks{constructor(){}supports(t){return _o(t)}create(t){return new Ds(t)}}const Ns=(t,e)=>e;class Ds{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ns}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ls(n,r,i)?e:n,s=Ls(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!_o(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[wo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Os(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Rs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Os{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ps{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Rs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ps,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ls(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Fs{constructor(){}supports(t){return t instanceof Map||Eo(t)}create(){return new Ms}}class Ms{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Eo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Vs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Vs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function js(){return new Us([new ks])}let Us=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||js()),deps:[[t,new mn,new gn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:js}),t})();function qs(){return new Bs([new Fs])}let Bs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||qs()),deps:[[t,new mn,new gn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:qs}),t})();function Gs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(At(o)),ht(o))for(let t=ct;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Gs(e[1],e,n,r)}const s=n.type;if(8&s)Gs(t,e,n.child,r);else if(32&s){const t=yr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Mr(e,n);if(Array.isArray(t))r.push(...t);else{const n=vr(e[16]);Gs(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Hs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Gs(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Sr(t,n),$e(e,n))}this._attachedToViewContainer=!1}Cr(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=zi(e);i.push(r)}(0,this._lView,0,t)}markForCheck(){Ui(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){qi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{qi(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ur(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class zs extends Hs{constructor(t){super(t),this._view=t}detectChanges(){Bi(this._view)}checkNoChanges(){!function(t){Jt(!0);try{Bi(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const Ks=function(t){return function(t,e,n){if(dt(t)&&!n){const n=Ot(t.index,e);return new Hs(n,n)}return 47&t.type?new Hs(e[16],e):null}(qt(),jt(),16==(16&t))};let Js=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ks,t})();const Zs=[new Fs],Qs=new Us([new ks]),Ws=new Bs(Zs),$s=function(){return t=qt(),e=jt(),4&t.type?new ta(e,t,ws(t,e)):null;var t,e};let Ys=(()=>{class t{}return t.__NG_ELEMENT_ID__=$s,t})();const Xs=Ys,ta=class extends Xs{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=fi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),gi(e,n,t),new Hs(n)}};class ea{}const na=function(){return function(t,e){let n;const r=e[t.index];if(ht(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);kr(n,Or(n,r),i,function(t,e){return Ct(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Li(r,e,i,t),ji(e,n)}return new oa(n,t,e)}(qt(),jt())};let ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=na,t})();const ia=ra,oa=class extends ia{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ws(this._hostTNode,this._hostLView)}get injector(){return new Be(this._hostTNode,this._hostLView)}get parentInjector(){const t=De(this._hostTNode,this._hostLView);if(Ee(t)){const e=Te(t,this._hostLView),n=Ie(t);return new Be(e[1].data[n+8],e)}return new Be(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=sa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ea,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new oa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ct+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ct?(e[4]=n[i],We(n,ct+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Vr(i,o),a=n[11],u=Or(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ur(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),We(aa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=sa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);n&&($e(aa(this._lContainer),e),Cr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);return n&&null!=$e(aa(this._lContainer),e)?new Hs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function sa(t){return t[8]}function aa(t){return t[8]||(t[8]=[])}const ua={};class ca extends vs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=st(t);return new fa(e,this.ngModule)}}function la(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ha=new Ze("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>pr});class fa extends ms{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ei).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return la(this.componentDef.inputs)}get outputs(){return la(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ua,i);return o!==ua||r===ua?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Is,xt),s=i.get(Cs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Ct(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ir(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:pr,clean:Hi,playerHandler:null,flags:0},f=Ei(0,null,null,1,0,null,null,null,null,null),d=fi(null,f,h,l,null,null,o,a,s,i);let p,g;te(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=di(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Qi(a,u,!0),null!==t&&(ye(i,t,u),null!==a.classes&&Gr(i,t,a.classes),null!==a.styles&&Br(i,t,a.styles)));const c=r.createRenderer(t,e),l=fi(n,_i(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Oe(Ae(a,n),s,e.type),Ai(s,a),Ni(a,n.length,1)),ji(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)ye(a,c,["ng-version",As.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Wr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ye(a,c,t),e&&e.length>0&&Gr(a,c,e.join(" "))}if(g=Dt(f,ut),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=qt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Di(t,r,e,pi(t,e,1,null),n));const i=je(e,t,r.directiveStart,r);ur(i,e);const o=Nt(r,e);return o&&ur(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=qt();e.contentQueries(1,s,t.directiveStart)}const a=qt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ae(a.index),Ci(n[1],a,0,a.directiveStart,a.directiveEnd,e),xi(e,s)),s}(t,this.componentDef,d,h,[fo]),gi(f,d,null)}finally{oe()}return new da(this.componentType,p,ws(g,d),d,g)}}class da extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new zs(r),this.componentType=t}get injector(){return new Be(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const pa=new Map;class ga extends ea{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ca(this);const n=at(t),r=t[J]||null;r&&as(r),this._bootstrapComponents=gr(n.bootstrap),this._r3Injector=ro(t,e,[{provide:ea,useValue:this},{provide:vs,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ho.THROW_IF_NOT_FOUND,n=k.Default){return t===ho||t===ea||t===Wi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ma extends class{}{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const r=at(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,pa.get(i),n),pa.set(i,n));const o=gr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new ga(this.moduleType,t)}}function ya(t){return e=>{setTimeout(t,void 0,e)}}const va=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=ya(u),a&&(a=ya(a)),c&&(c=ya(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};Symbol;const ba=new Ze("Application Initializer");let wa=(()=>{class t{constructor(t){this.appInits=t,this.resolve=bs,this.reject=bs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Oo(e))t.push(e);else if(Ro(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ln(ba,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const _a=new Ze("AppId"),Ea={provide:_a,useFactory:function(){return`${Ia()}${Ia()}${Ia()}`},deps:[]};function Ia(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ta=new Ze("Platform Initializer"),Sa=new Ze("Platform ID"),Ca=new Ze("appBootstrapListener");let xa=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Aa=new Ze("LocaleId"),ka=new Ze("DefaultCurrencyCode");class Na{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Da=function(t){return new ma(t)},Oa=Da,Pa=function(t){return Promise.resolve(Da(t))},Ra=function(t){const e=Da(t),n=gr(at(t).declarations).reduce((t,e)=>{const n=st(e);return n&&t.push(new fa(n)),t},[]);return new Na(e,n)},La=Ra,Fa=function(t){return Promise.resolve(Ra(t))};let Ma=(()=>{class t{constructor(){this.compileModuleSync=Oa,this.compileModuleAsync=Pa,this.compileModuleAndAllComponentsSync=La,this.compileModuleAndAllComponentsAsync=Fa}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Va=(()=>Promise.resolve(0))();function ja(t){"undefined"==typeof Zone?Va.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ua{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new va(!1),this.onMicrotaskEmpty=new va(!1),this.onStable=new va(!1),this.onError=new va(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ga(t),t.isCheckStableRunning=!0,Ba(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ga(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Ha(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),za(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Ha(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),za(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ga(t),Ba(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ua.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ua.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,qa,bs,bs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const qa={};function Ba(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ga(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ha(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function za(t){t._nesting--,Ba(t)}class Ka{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new va,this.onMicrotaskEmpty=new va,this.onStable=new va,this.onError=new va}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ja=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ua.assertNotInAngularZone(),ja(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ja(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ln(Ua))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Za=(()=>{class t{constructor(){this._applications=new Map,Ya.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ya.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Qa{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Wa(t){Ya=t}let $a,Ya=new Qa,Xa=!0,tu=!1;function eu(){return tu=!0,Xa}function nu(){if(tu)throw new Error("Cannot enable prod mode after platform setup.");Xa=!1}const ru=new Ze("AllowMultipleToken");class iu{constructor(t,e){this.name=t,this.token=e}}function ou(t,e,n=[]){const r=`Platform: ${e}`,i=new Ze(r);return(e=[])=>{let o=su();if(!o||o.injector.get(ru,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Yi,useValue:"platform"});!function(t){if($a&&!$a.destroyed&&!$a.injector.get(ru,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$a=t.get(au);const e=t.get(Ta,null);e&&e.forEach(t=>t())}(ho.create({providers:t,name:r}))}return function(t){const e=su();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function su(){return $a&&!$a.destroyed?$a:null}let au=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ka:("zone.js"===t?void 0:t)||new Ua({enableLongStackTrace:eu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Ua,useValue:n}];return n.run(()=>{const e=ho.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(dr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{lu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Oo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(wa);return t.runInitializers(),t.donePromise.then(()=>(as(i.injector.get(Aa,os)||os),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=uu({},e);return function(t,e,n){const r=new ma(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(cu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ln(ho))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function uu(t,e){return Array.isArray(e)?e.reduce(uu,t):Object.assign(Object.assign({},t),e)}let cu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ua.assertNotInAngularZone(),ja(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ua.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(u,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ms?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ea),i=n.create(ho.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Ja,null),a=s&&i.injector.get(Za);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),lu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;lu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ca,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ln(Ua),ln(ho),ln(dr),ln(vs),ln(wa))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function lu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hu=function(t){return null},fu=ou(null,"core",[{provide:Sa,useValue:"unknown"},{provide:au,deps:[ho]},{provide:Za,deps:[]},{provide:xa,deps:[]}]),du=[{provide:cu,useClass:cu,deps:[Ua,ho,dr,vs,wa]},{provide:ha,deps:[Ua],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:wa,useClass:wa,deps:[[new gn,ba]]},{provide:Ma,useClass:Ma,deps:[]},Ea,{provide:Us,useFactory:function(){return Qs},deps:[]},{provide:Bs,useFactory:function(){return Ws},deps:[]},{provide:Aa,useFactory:function(t){return as(t=t||"undefined"!=typeof $localize&&$localize.locale||os),t},deps:[[new pn(Aa),new gn,new mn]]},{provide:ka,useValue:"USD"}];let pu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(ln(cu))},t.\u0275mod=et({type:t}),t.\u0275inj=_({providers:du}),t})()},57:(t,e,n)=>{"use strict";n.d(e,{hO:()=>C,xv:()=>b,Dh:()=>v,HU:()=>d,GT:()=>y,sI:()=>T,on:()=>_,ss:()=>p,pX:()=>m,yq:()=>E});var r=n(7771),i=n(3637),o=n(3342),s=n(3101),a=n(6136),u=n(7716),c=n(2329);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig"),w=new u.GfV("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&I("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{I("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},I=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&I("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:_,deps:[v,u.R0b,[new u.FiY,b]]};let C=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",w.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[S]}),t})()},9759:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,o=n(4762),s=n(4685),a=n(6034),u=n(300),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.28",void 0),t.registerVersion("fire-js","")}(w);const _=w},6034:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u});var r=n(4762),i=n(4685),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},300:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>f,Am:()=>d});var o=[],s=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(s||(s={})),s))(),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},4685:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>b,r3:()=>E,Sg:()=>u,ne:()=>I,p$:()=>o,ZB:()=>s,m9:()=>C,z$:()=>c,jU:()=>f,ru:()=>d,d:()=>g,w1:()=>m,uI:()=>l,UG:()=>h,b$:()=>p,Mn:()=>y});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){var n=new T(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function C(t){return t&&t._delegate?t._delegate:t}},2329:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(9759),i="8.7.1";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},7574:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(7393),i=n(9181),o=n(6490),s=n(6554),a=n(4487),u=n(2494);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(2494),i=n(4449);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},9765:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(7574),i=n(7393),o=n(5319),s=n(7971),a=n(8858),u=n(9181);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},8858:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(5319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},7393:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(9105),i=n(6490),o=n(5319),s=n(9181),a=n(2494),u=n(4449);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},5319:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(9796),i=n(1555),o=n(9105);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,o.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){t=h instanceof s?c(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof s?t=t.concat(c(h.errors)):t.push(h)}}}if(t)throw new s(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var u;function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}a.EMPTY=((u=new a).closed=!0,u)},2494:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(7393),i=n(7574),o=n(7444);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},9193:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(7574);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},4402:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(7574),i=n(7444),o=n(5319),s=n(6554),a=n(4087),u=n(377),c=n(4072),l=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},6693:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(7574),i=n(5015),o=n(4087);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},6682:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(7574),i=n(4869),o=n(3282),s=n(6693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},5917:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(4869),i=n(6693),o=n(4087);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},205:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(7574);function i(t,e){return new r.y(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},8002:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(7393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},3282:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(9773),i=n(4487);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},9773:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(8002),i=n(4402),o=n(5345);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(t,e,n)=>{"use strict";n.d(e,{ht:()=>l,QV:()=>u});var r=n(7393),i=n(9193),o=n(5917),s=n(205);class a{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new a("N",t):a.undefinedValueNotification}static createError(t){return new a("E",void 0,t)}static createComplete(){return a.completeNotification}}function u(t,e=0){return function(n){return n.lift(new c(t,e))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},3522:(t,e,n)=>{"use strict";n.d(e,{B:()=>p});var r=n(9765),i=n(7574),o=n(5319),s=n(7393);function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends s.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.xQ}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},3101:(t,e,n)=>{"use strict";n.d(e,{R:()=>p});var r=n(7574);let i=1;const o=Promise.resolve(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(6465),l=n(6102);const h=new class extends l.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}});var f=n(9796);class d extends r.y{constructor(t,e=0,n=h){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,((0,f.k)(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(t,e=0,n=h){return new d(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(d.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function p(t,e=0){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new d(e,this.delay,this.scheduler).subscribe(t)}}},3342:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(7393);function i(){}var o=n(9105);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},4087:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(7574),i=n(5319);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(5319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},6102:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},3637:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>o});var r=n(6465);const i=new(n(6102).v)(r.o),o=i},7771:(t,e,n)=>{"use strict";n.d(e,{c:()=>s,N:()=>o});var r=n(6465),i=n(6102);const o=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),s=o},377:(t,e,n)=>{"use strict";n.d(e,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4449:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},4487:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},9796:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},9489:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},9105:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},1555:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},4072:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},4869:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},7444:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(5015),i=n(4449),o=n(377),s=n(6554),a=n(9489),u=n(4072),c=n(1555);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},5015:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},5338:(t,e,n)=>{"use strict";var r=n(7716);let i=null;function o(){return i}const s=new r.OlP("DocumentToken");var a=(()=>((a=a||{})[a.Zero=0]="Zero",a[a.One=1]="One",a[a.Two=2]="Two",a[a.Few=3]="Few",a[a.Many=4]="Many",a[a.Other=5]="Other",a))();const u=r.kL8;class c{}let l=(()=>{class t extends c{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(u(e||this.locale)(t)){case a.Zero:return"zero";case a.One:return"one";case a.Two:return"two";case a.Few:return"few";case a.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class h{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let f=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(Td){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new h(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new d(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new d(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class d{constructor(t,e){this.record=t,this.view=e}}let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:c,useClass:l}]}),t})();class g extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new g,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(y=y||document.querySelector("base"),y?y.getAttribute("href"):null);return null==e?null:function(t){m=m||document.createElement("a"),m.setAttribute("href",t);const e=m.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){y=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let m,y=null;const v=new r.OlP("TRANSITION_ID"),b=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[v,s,r.zs3],multi:!0}];class w{static init(){(0,r.VLi)(new w)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let _=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const E=new r.OlP("EventManagerPlugins");let I=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(E),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class T{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let S=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t extends S{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(x),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(x))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function x(t){o().remove(t)}const A={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},k=/%COMP%/g;function N(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?N(t,i,n):(i=i.replace(k,t),n.push(i))}return n}function D(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let O=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new P(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new R(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new L(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=N(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(I),r.LFG(C),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class P{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(A[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=A[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=A[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,D(n)):this.eventManager.addEventListener(t,e,D(n))}}class R extends P{constructor(t,e,n,r){super(t),this.component=n;const i=N(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(k,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(k,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class L extends P{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=N(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let F=(()=>{class t extends T{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const M=["alt","control","meta","shift"],V={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},U={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let q=(()=>{class t extends T{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(M.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&j.hasOwnProperty(e)&&(e=j[e]))}return V[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),M.forEach(r=>{r!=n&&(0,U[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(H)},token:t,providedIn:"root"}),t})();function G(t){return new H(t.get(s))}let H=(()=>{class t extends B{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.q3G.NONE:return e;case r.q3G.HTML:return(0,r.qzn)(e,"HTML")?(0,r.z3N)(e):(0,r.EiD)(this._doc,String(e)).toString();case r.q3G.STYLE:return(0,r.qzn)(e,"Style")?(0,r.z3N)(e):e;case r.q3G.SCRIPT:if((0,r.qzn)(e,"Script"))return(0,r.z3N)(e);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(e),(0,r.qzn)(e,"URL")?(0,r.z3N)(e):(0,r.mCW)(String(e));case r.q3G.RESOURCE_URL:if((0,r.qzn)(e,"ResourceURL"))return(0,r.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,r.JVY)(t)}bypassSecurityTrustStyle(t){return(0,r.L6k)(t)}bypassSecurityTrustScript(t){return(0,r.eBb)(t)}bypassSecurityTrustUrl(t){return(0,r.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,r.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:function(){return G((0,r.LFG)(r.gxx))},token:t,providedIn:"root"}),t})();const z=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){g.makeCurrent(),w.init()},multi:!0},{provide:s,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),K=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:E,useClass:F,multi:!0,deps:[s,r.R0b,r.Lbi]},{provide:E,useClass:q,multi:!0,deps:[s]},[],{provide:O,useClass:O,deps:[I,C,r.AFp]},{provide:r.FYo,useExisting:O},{provide:S,useExisting:C},{provide:C,useClass:C,deps:[s]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:I,useClass:I,deps:[E,r.R0b]},{provide:class{},useClass:_,deps:[]},[]];let J=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:v,useExisting:r.AFp},b]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:K,imports:[p,r.hGG]}),t})();"undefined"!=typeof window&&window;const Z={apiKey:"AIzaSyD7uvl2RmKA3ylBBKMZohOi9JOKlfr6Vag",authDomain:"pos-mock-database.firebaseapp.com",databaseURL:"https://pos-mock-database-default-rtdb.firebaseio.com",projectId:"pos-mock-database",storageBucket:"pos-mock-database.appspot.com",messagingSenderId:"185556480229",appId:"1:185556480229:web:32245eef5bc555f496e40c",measurementId:"G-EGDKV6XMCS"};var Q=n(57),W=n(3637),$=n(7574),Y=n(4402),X=n(5917),tt=n(3282);function et(...t){return(0,tt.J)(1)((0,X.of)(...t))}var nt=n(4869);function rt(...t){const e=t[t.length-1];return(0,nt.K)(e)?(t.pop(),n=>et(t,n,e)):e=>et(t,e)}var it=n(7393);function ot(){return t=>t.lift(new st)}class st{call(t,e){return e.subscribe(new at(t))}}class at extends it.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var ut=n(8002);function ct(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new lt(t,e,n))}}class lt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ht(t,this.accumulator,this.seed,this.hasSeed))}}class ht extends it.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class ft{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new dt(t,this.compare,this.keySelector))}}class dt extends it.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function pt(t,e){return function(n){return n.lift(new gt(t,e))}}class gt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new mt(t,this.predicate,this.thisArg))}}class mt extends it.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var yt=n(6136),vt=n(2329),bt=n(9759),wt=n(4762),_t=n(4685),Et=n(300),It=function(t,e){return(It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Tt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var St,Ct="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xt=xt||{},At=Ct||self;function kt(){}function Nt(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Dt(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ot="closure_uid_"+(1e9*Math.random()>>>0),Pt=0;function Rt(t,e,n){return t.call.apply(t.bind,arguments)}function Lt(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ft(t,e,n){return(Ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rt:Lt).apply(null,arguments)}function Mt(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Vt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function jt(){this.s=this.s,this.o=this.o}var Ut={};jt.prototype.s=!1,jt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Ot)&&t[Ot]||(t[Ot]=++Pt)}(this);delete Ut[t]}},jt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Bt=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Gt(t){return Array.prototype.concat.apply([],arguments)}function Ht(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function zt(t){return/^[\s\xa0]*$/.test(t)}var Kt,Jt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Zt(t,e){return-1!=t.indexOf(e)}function Qt(t,e){return t<e?-1:t>e?1:0}t:{var Wt=At.navigator;if(Wt){var $t=Wt.userAgent;if($t){Kt=$t;break t}}Kt=""}function Yt(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Xt(t){var e={};for(var n in t)e[n]=t[n];return e}var te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<te.length;o++)n=te[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ne(t){return ne[" "](t),t}ne[" "]=kt;var re,ie,oe=Zt(Kt,"Opera"),se=Zt(Kt,"Trident")||Zt(Kt,"MSIE"),ae=Zt(Kt,"Edge"),ue=ae||se,ce=Zt(Kt,"Gecko")&&!(Zt(Kt.toLowerCase(),"webkit")&&!Zt(Kt,"Edge"))&&!(Zt(Kt,"Trident")||Zt(Kt,"MSIE"))&&!Zt(Kt,"Edge"),le=Zt(Kt.toLowerCase(),"webkit")&&!Zt(Kt,"Edge");function he(){var t=At.document;return t?t.documentMode:void 0}t:{var fe="",de=(ie=Kt,ce?/rv:([^\);]+)(\)|;)/.exec(ie):ae?/Edge\/([\d\.]+)/.exec(ie):se?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ie):le?/WebKit\/(\S+)/.exec(ie):oe?/(?:Version)[ \/]?(\S+)/.exec(ie):void 0);if(de&&(fe=de?de[1]:""),se){var pe=he();if(null!=pe&&pe>parseFloat(fe)){re=String(pe);break t}}re=fe}var ge={};var me=At.document&&se&&(he()||parseInt(re,10))||void 0,ye=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{At.addEventListener("test",kt,e),At.removeEventListener("test",kt,e)}catch(n){}return t}();function ve(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function be(t,e){if(ve.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ce){t:{try{ne(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:we[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&be.Z.h.call(this)}}ve.prototype.h=function(){this.defaultPrevented=!0},Vt(be,ve);var we={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Ie(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ee,this.ca=this.fa=!1}function Te(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Se(t){this.src=t,this.g={},this.h=0}function Ce(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=qt(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Te(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function xe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Se.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=xe(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new Ie(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Ae="closure_lm_"+(1e6*Math.random()|0),ke={};function Ne(t,e,n,r,i){if(r&&r.once)return Oe(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ne(t,e[o],n,r,i);return null}return n=je(n),t&&t[_e]?t.N(e,n,Dt(r)?!!r.capture:!!r,i):De(t,e,n,!1,r,i)}function De(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Dt(i)?!!i.capture:!!i,a=Me(t);if(a||(t[Ae]=a=new Se(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Fe;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ye||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Le(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Oe(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Oe(t,e[o],n,r,i);return null}return n=je(n),t&&t[_e]?t.O(e,n,Dt(r)?!!r.capture:!!r,i):De(t,e,n,!0,r,i)}function Pe(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Pe(t,e[o],n,r,i);else r=Dt(r)?!!r.capture:!!r,n=je(n),t&&t[_e]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=xe(o=t.g[e],n,r,i))&&(Te(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Me(t))&&(e=t.g[e.toString()],t=-1,e&&(t=xe(e,n,r,i)),(n=-1<t?e[t]:null)&&Re(n))}function Re(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[_e])Ce(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Le(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Me(e))?(Ce(n,t),0==n.h&&(n.src=null,e[Ae]=null)):Te(t)}}}function Le(t){return t in ke?ke[t]:ke[t]="on"+t}function Fe(t,e){if(t.ca)t=!0;else{e=new be(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Re(t),t=n.call(r,e)}return t}function Me(t){return(t=t[Ae])instanceof Se?t:null}var Ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(t){return"function"==typeof t?t:(t[Ve]||(t[Ve]=function(e){return t.handleEvent(e)}),t[Ve])}function Ue(){jt.call(this),this.i=new Se(this),this.P=this,this.I=null}function qe(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new ve(e,t);else if(e instanceof ve)e.target=e.target||t;else{var i=e;ee(e=new ve(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Be(s,r,!0,e)&&i}if(i=Be(s=e.g=t,r,!0,e)&&i,i=Be(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Be(s=e.g=n[o],r,!1,e)&&i}function Be(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Ce(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Vt(Ue,jt),Ue.prototype[_e]=!0,Ue.prototype.removeEventListener=function(t,e,n,r){Pe(this,t,e,n,r)},Ue.prototype.M=function(){if(Ue.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Te(n[r]);delete e.g[t],e.h--}}this.I=null},Ue.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ue.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ge=At.JSON.stringify;function He(){var t=Ye,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ze,Ke=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Je.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Je=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new Ze},function(t){return t.reset()}),Ze=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Qe(t){At.setTimeout(function(){throw t},0)}function We(t,e){ze||function(){var t=At.Promise.resolve(void 0);ze=function(){t.then(Xe)}}(),$e||(ze(),$e=!0),Ye.add(t,e)}var $e=!1,Ye=new Ke;function Xe(){for(var t;t=He();){try{t.h.call(t.g)}catch(n){Qe(n)}var e=Je;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$e=!1}function tn(t,e){Ue.call(this),this.h=t||1,this.g=e||At,this.j=Ft(this.kb,this),this.l=Date.now()}function en(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function nn(t,e,n){if("function"==typeof t)n&&(t=Ft(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ft(t.handleEvent,t)}return 2147483647<Number(e)?-1:At.setTimeout(t,e||0)}function rn(t){t.g=nn(function(){t.g=null,t.i&&(t.i=!1,rn(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Vt(tn,Ue),(St=tn.prototype).da=!1,St.S=null,St.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qe(this,"tick"),this.da&&(en(this),this.start()))}},St.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},St.M=function(){tn.Z.M.call(this),en(this),delete this.g};var on=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}It(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:rn(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(jt);function sn(t){jt.call(this),this.h=t,this.g={}}Vt(sn,jt);var an=[];function un(t,e,n,r){Array.isArray(n)||(n&&(an[0]=n.toString()),n=an);for(var i=0;i<n.length;i++){var o=Ne(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function cn(t){Yt(t.g,function(t,e){this.g.hasOwnProperty(e)&&Re(t)},t),t.g={}}function ln(){this.g=!0}function hn(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ge(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}sn.prototype.M=function(){sn.Z.M.call(this),cn(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ln.prototype.Aa=function(){this.g=!1},ln.prototype.info=function(){};var fn={},dn=null;function pn(){return dn=dn||new Ue}function gn(t){ve.call(this,fn.Ma,t)}function mn(t){var e=pn();qe(e,new gn(e,t))}function yn(t,e){ve.call(this,fn.STAT_EVENT,t),this.stat=e}function vn(t){var e=pn();qe(e,new yn(e,t))}function bn(t,e){ve.call(this,fn.Na,t),this.size=e}function wn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){t()},e)}fn.Ma="serverreachability",Vt(gn,ve),fn.STAT_EVENT="statevent",Vt(yn,ve),fn.Na="timingevent",Vt(bn,ve);var _n={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},En={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function In(){}function Tn(){}In.prototype.h=null;var Sn,Cn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xn(){ve.call(this,"d")}function An(){ve.call(this,"c")}function kn(){}function Nn(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new sn(this),this.P=On,this.W=new tn(t=ue?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Dn}function Dn(){this.i=null,this.g="",this.h=!1}Vt(xn,ve),Vt(An,ve),Vt(kn,In),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},Sn=new kn;var On=45e3,Pn={},Rn={};function Ln(t,e,n){t.K=1,t.v=ir(Yn(e)),t.s=n,t.U=!0,Fn(t,null)}function Fn(t,e){t.F=Date.now(),Un(t),t.A=Yn(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),yr(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Dn,t.g=vi(t.l,n?e:null,!t.s),0<t.O&&(t.L=new on(Ft(t.Ia,t,t.g),t.O)),un(t.V,t.g,"readystatechange",t.gb),e=t.H?Xt(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),mn(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Mn(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Vn(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=jn(t,n))==Rn){4==e&&(t.o=4,vn(14),i=!1),hn(t.j,t.m,null,"[Incomplete Response]");break}if(r==Pn){t.o=4,vn(15),hn(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}hn(t.j,t.m,r,null),zn(t,r)}Mn(t)&&r!=Rn&&r!=Pn&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,vn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),li(e),e.L=!0,vn(11))):(hn(t.j,t.m,n,"[Invalid Chunked Response]"),Hn(t),Gn(t))}function jn(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Rn:(n=Number(e.substring(n,r)),isNaN(n)?Pn:(r+=1)+n>e.length?Rn:(e=e.substr(r,n),t.C=r+n,e))}function Un(t){t.Y=Date.now()+t.P,qn(t,t.P)}function qn(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=wn(Ft(t.eb,t),e)}function Bn(t){t.B&&(At.clearTimeout(t.B),t.B=null)}function Gn(t){0==t.l.G||t.I||di(t.l,t)}function Hn(t){Bn(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,en(t.W),cn(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function zn(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Tr(n.i,t)))if(n.I=t.N,!t.J&&Tr(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;fi(n),ei(n)}ci(n),vn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=wn(Ft(n.ab,n),6e3));if(1>=Ir(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else gi(n,11)}else if((t.J||n.g==t)&&fi(n),!zt(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Zt(l,"spdy")||Zt(l,"quic")||Zt(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Sr(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,rr(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=yi(r,r.H?r.la:null,r.W),d.J){Cr(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(Bn(p),Un(p)),r.g=d}else ui(r);0<n.l.length&&ii(n)}else"stop"!=o[0]&&"close"!=o[0]||gi(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?gi(n,7):ti(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}mn(4)}catch(o){}}function Kn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Nt(t)||"string"==typeof t)Bt(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Nt(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Nt(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Jn(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Jn)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Zn(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Qn(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Qn(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(St=Nn.prototype).setTimeout=function(t){this.P=t},St.gb=function(t){t=t.target;var e=this.L;e&&3==Qr(t)?e.l():this.Ia(t)},St.Ia=function(t){try{if(t==this.g)t:{var e=Qr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||ue||this.g&&(this.h.h||this.g.ga()||Wr(this.g)))){this.I||4!=e||7==n||mn(8==n||0>=r?3:2),Bn(this);var i=this.g.ba();this.N=i;e:if(Mn(this)){var o=Wr(this.g);t="";var s=o.length,a=4==Qr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Hn(this),Gn(this);var u="";break e}this.h.i=new At.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zt(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,vn(12),Hn(this),Gn(this);break t}hn(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zn(this,i)}this.U?(Vn(this,e,u),ue&&this.i&&3==e&&(un(this.V,this.W,"tick",this.fb),this.W.start())):(hn(this.j,this.m,u,null),zn(this,u)),4==e&&Hn(this),this.i&&!this.I&&(4==e?di(this.l,this):(this.i=!1,Un(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,vn(12)):(this.o=0,vn(13)),Hn(this),Gn(this)}}}catch(e){}},St.fb=function(){if(this.g){var t=Qr(this.g),e=this.g.ga();this.C<e.length&&(Bn(this),Vn(this,t,e),this.i&&4!=t&&Un(this))}},St.cancel=function(){this.I=!0,Hn(this)},St.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(mn(3),vn(17)),Hn(this),this.o=2,Gn(this)):qn(this,this.Y-t)},(St=Jn.prototype).R=function(){Zn(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},St.T=function(){return Zn(this),this.g.concat()},St.get=function(t,e){return Qn(this.h,t)?this.h[t]:e},St.set=function(t,e){Qn(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},St.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Wn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $n(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof $n){this.g=void 0!==e?e:t.g,Xn(this,t.j),this.s=t.s,tr(this,t.i),er(this,t.m),this.l=t.l,e=t.h;var n=new dr;n.i=e.i,e.g&&(n.g=new Jn(e.g),n.h=e.h),nr(this,n),this.o=t.o}else t&&(n=String(t).match(Wn))?(this.g=!!e,Xn(this,n[1]||"",!0),this.s=or(n[2]||""),tr(this,n[3]||"",!0),er(this,n[4]),this.l=or(n[5]||"",!0),nr(this,n[6]||"",!0),this.o=or(n[7]||"")):(this.g=!!e,this.h=new dr(null,this.g))}function Yn(t){return new $n(t)}function Xn(t,e,n){t.j=n?or(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function tr(t,e,n){t.i=n?or(e,!0):e}function er(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nr(t,e,n){e instanceof dr?(t.h=e,function(t,e){e&&!t.j&&(pr(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(gr(this,e),yr(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=sr(e,hr)),t.h=new dr(e,t.g))}function rr(t,e,n){t.h.set(e,n)}function ir(t){return rr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function or(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sr(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ar),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ar(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}$n.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sr(e,ur,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(sr(e,ur,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(sr(n,"/"==n.charAt(0)?lr:cr,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sr(n,fr)),t.join("")};var ur=/[#\/\?@]/g,cr=/[#\?:]/g,lr=/[#\?]/g,hr=/[#\?@]/g,fr=/#/g;function dr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function pr(t){t.g||(t.g=new Jn,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function gr(t,e){pr(t),e=vr(t,e),Qn(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Qn((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Zn(t)))}function mr(t,e){return pr(t),e=vr(t,e),Qn(t.g.h,e)}function yr(t,e,n){gr(t,e),0<n.length&&(t.i=null,t.g.set(vr(t,e),Ht(n)),t.h+=n.length)}function vr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(St=dr.prototype).add=function(t,e){pr(this),this.i=null,t=vr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},St.forEach=function(t,e){pr(this),this.g.forEach(function(n,r){Bt(n,function(n){t.call(e,n,r,this)},this)},this)},St.T=function(){pr(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},St.R=function(t){pr(this);var e=[];if("string"==typeof t)mr(this,t)&&(e=Gt(e,this.g.get(vr(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Gt(e,t[n])}return e},St.set=function(t,e){return pr(this),this.i=null,mr(this,t=vr(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},St.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},St.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var br=function(t,e){this.h=t,this.g=e};function wr(t){this.l=t||_r,t=At.PerformanceNavigationTiming?0<(t=At.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(At.g&&At.g.Ea&&At.g.Ea()&&At.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _r=10;function Er(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ir(t){return t.h?1:t.g?t.g.size:0}function Tr(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Sr(t,e){t.g?t.g.add(e):t.h=e}function Cr(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function xr(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Tt(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ht(t.i)}function Ar(){}function kr(){this.g=new Ar}function Nr(t,e,n){var r=n||"";try{Kn(t,function(t,n){var i=t;Dt(t)&&(i=Ge(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(jp){throw e.push(r+"type="+encodeURIComponent("_badmap")),jp}}function Dr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Or(t){this.l=t.$b||null,this.j=t.ib||!1}function Pr(t,e){Ue.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Rr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wr.prototype.cancel=function(){var t,e;if(this.i=xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Tt(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Ar.prototype.stringify=function(t){return At.JSON.stringify(t,void 0)},Ar.prototype.parse=function(t){return At.JSON.parse(t,void 0)},Vt(Or,In),Or.prototype.g=function(){return new Pr(this.l,this.j)},Or.prototype.i=function(t){return function(){return t}}({}),Vt(Pr,Ue);var Rr=0;function Lr(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Fr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Mr(t)}function Mr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(St=Pr.prototype).open=function(t,e){if(this.readyState!=Rr)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Mr(this)},St.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||At).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},St.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fr(this)),this.readyState=Rr},St.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==At.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lr(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},St.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fr(this):Mr(this),3==this.readyState&&Lr(this)}},St.Ua=function(t){this.g&&(this.response=this.responseText=t,Fr(this))},St.Ta=function(t){this.g&&(this.response=t,Fr(this))},St.ha=function(){this.g&&Fr(this)},St.setRequestHeader=function(t,e){this.v.append(t,e)},St.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},St.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Vr=At.JSON.parse;function jr(t){Ue.call(this),this.headers=new Jn,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ur,this.K=this.L=!1}Vt(jr,Ue);var Ur="",qr=/^https?$/i,Br=["POST","PUT"];function Gr(t){return"content-type"==t.toLowerCase()}function Hr(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zr(t),Jr(t)}function zr(t){t.D||(t.D=!0,qe(t,"complete"),qe(t,"error"))}function Kr(t){if(t.h&&void 0!==xt&&(!t.C[1]||4!=Qr(t)||2!=t.ba()))if(t.v&&4==Qr(t))nn(t.Fa,0,t);else if(qe(t,"readystatechange"),4==Qr(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Wn)[1]||null;if(!o&&At.self&&At.self.location){var s=At.self.location.protocol;o=s.substr(0,s.length-1)}i=!qr.test(o?o.toLowerCase():"")}e=i}if(e)qe(t,"complete"),qe(t,"success");else{t.m=6;try{var a=2<Qr(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",zr(t)}}finally{Jr(t)}}}function Jr(t,e){if(t.g){Zr(t);var n=t.g,r=t.C[0]?kt:null;t.g=null,t.C=null,e||qe(t,"ready");try{n.onreadystatechange=r}catch(jp){}}}function Zr(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(At.clearTimeout(t.A),t.A=null)}function Qr(t){return t.g?t.g.readyState:0}function Wr(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Ur:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function $r(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Yt(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):rr(t,e,n))}function Yr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xr(t){this.za=0,this.l=[],this.h=new ln,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yr("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yr("baseRetryDelayMs",5e3,t),this.$a=Yr("retryDelaySeedMs",1e4,t),this.Ya=Yr("forwardChannelMaxRetries",2,t),this.ra=Yr("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new wr(t&&t.concurrentRequestLimit),this.Ca=new kr,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function ti(t){if(ni(t),3==t.G){var e=t.V++,n=Yn(t.F);rr(n,"SID",t.J),rr(n,"RID",e),rr(n,"TYPE","terminate"),si(t,n),(e=new Nn(t,t.h,e,void 0)).K=2,e.v=ir(Yn(n)),n=!1,At.navigator&&At.navigator.sendBeacon&&(n=At.navigator.sendBeacon(e.v.toString(),"")),!n&&At.Image&&((new Image).src=e.v,n=!0),n||(e.g=vi(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Un(e)}mi(t)}function ei(t){t.g&&(li(t),t.g.cancel(),t.g=null)}function ni(t){ei(t),t.u&&(At.clearTimeout(t.u),t.u=null),fi(t),t.i.cancel(),t.m&&("number"==typeof t.m&&At.clearTimeout(t.m),t.m=null)}function ri(t,e){t.l.push(new br(t.Za++,e)),3==t.G&&ii(t)}function ii(t){Er(t.i)||t.m||(t.m=!0,We(t.Ha,t),t.C=0)}function oi(t,e){var n;n=e?e.m:t.V++;var r=Yn(t.F);rr(r,"SID",t.J),rr(r,"RID",n),rr(r,"AID",t.U),si(t,r),t.o&&t.s&&$r(r,t.o,t.s),n=new Nn(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=ai(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Sr(t.i,n),Ln(n,r,e)}function si(t,e){t.j&&Kn({},function(t,n){rr(e,n,t)})}function ai(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ft(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Nr(l,s,"req"+c+"_")}catch(Yi){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function ui(t){t.g||t.u||(t.Y=1,We(t.Ga,t),t.A=0)}function ci(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=wn(Ft(t.Ga,t),pi(t,t.A)),t.A++,0))}function li(t){null!=t.B&&(At.clearTimeout(t.B),t.B=null)}function hi(t){t.g=new Nn(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Yn(t.oa);rr(e,"RID","rpc"),rr(e,"SID",t.J),rr(e,"CI",t.N?"0":"1"),rr(e,"AID",t.U),si(t,e),rr(e,"TYPE","xmlhttp"),t.o&&t.s&&$r(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ir(Yn(e)),n.s=null,n.U=!0,Fn(n,t)}function fi(t){null!=t.v&&(At.clearTimeout(t.v),t.v=null)}function di(t,e){var n=null;if(t.g==e){fi(t),li(t),t.g=null;var r=2}else{if(!Tr(t.i,e))return;n=e.D,Cr(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;qe(r=pn(),new bn(r,n,e,i)),ii(t)}else ui(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ir(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=wn(Ft(t.Ha,t,e),pi(t,t.C)),t.C++,0)))}(t,e)||2==r&&ci(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gi(t,5);break;case 4:gi(t,10);break;case 3:gi(t,6);break;default:gi(t,2)}}function pi(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function gi(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Ft(t.jb,t);n||(n=new $n("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||Xn(n,"https"),ir(n)),function(t,e){var n=new ln;if(At.Image){var r=new Image;r.onload=Mt(Dr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mt(Dr,n,r,"TestLoadImage: error",!1,e),r.onabort=Mt(Dr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mt(Dr,n,r,"TestLoadImage: timeout",!1,e),At.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else vn(2);t.G=0,t.j&&t.j.va(e),mi(t),ni(t)}function mi(t){t.G=0,t.I=-1,t.j&&(0==xr(t.i).length&&0==t.l.length||(t.i.i.length=0,Ht(t.l),t.l.length=0),t.j.ua())}function yi(t,e,n){var r=function(t){return t instanceof $n?Yn(t):new $n(t,void 0)}(n);if(""!=r.i)e&&tr(r,e+"."+r.i),er(r,r.m);else{var i=At.location;r=function(t,e,n,r){var i=new $n(null,void 0);return t&&Xn(i,t),e&&tr(i,e),n&&er(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Yt(t.aa,function(t,e){rr(r,e,t)}),n=t.sa,(e=t.D)&&n&&rr(r,e,n),rr(r,"VER",t.ma),si(t,r),r}function vi(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jr(n&&t.Ba&&!t.qa?new Or({ib:!0}):t.qa)).L=t.H,e}function bi(){}function wi(){if(se&&!(10<=Number(me)))throw Error("Environmental error: no available transport.")}function _i(t,e){Ue.call(this),this.g=new Xr(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!zt(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zt(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ti(this)}function Ei(t){xn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ii(){An.call(this),this.status=1}function Ti(t){this.g=t}(St=jr.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sn.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Sn),this.g.onreadystatechange=Ft(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Hr(this,o)}t=n||"";var i=new Jn(this.headers);r&&Kn(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Gr,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=At.FormData&&t instanceof At.FormData,!(0<=qt(Br,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zr(this),0<this.B&&((this.K=function(t){return se&&function(){return t=ge,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Jt(String(re)).split("."),n=Jt("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=Qt(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Qt(0==o[2].length,0==s[2].length)||Qt(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.pa,this)):this.A=nn(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Hr(this,o)}},St.pa=function(){void 0!==xt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qe(this,"timeout"),this.abort(8))},St.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qe(this,"complete"),qe(this,"abort"),Jr(this))},St.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jr(this,!0)),jr.Z.M.call(this)},St.Fa=function(){this.s||(this.F||this.v||this.l?Kr(this):this.cb())},St.cb=function(){Kr(this)},St.ba=function(){try{return 2<Qr(this)?this.g.status:-1}catch(ie){return-1}},St.ga=function(){try{return this.g?this.g.responseText:""}catch(ie){return""}},St.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Vr(e)}},St.Da=function(){return this.m},St.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(St=Xr.prototype).ma=8,St.G=1,St.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},St.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Nn(this,this.h,t,void 0),n=this.s;if(this.P&&(n?ee(n=Xt(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=ai(this,e,r),rr(i=Yn(this.F),"RID",t),rr(i,"CVER",22),this.D&&rr(i,"X-HTTP-Session-Id",this.D),si(this,i),this.o&&n&&$r(i,this.o,n),Sr(this.i,e),this.Ra&&rr(i,"TYPE","init"),this.ja?(rr(i,"$req",r),rr(i,"SID","null"),e.$=!0,Ln(e,i,null)):Ln(e,i,r),this.G=2}}else 3==this.G&&(t?oi(this,t):0==this.l.length||Er(this.i)||oi(this))},St.Ga=function(){if(this.u=null,hi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=wn(Ft(this.bb,this),t)}},St.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vn(10),ei(this),hi(this))},St.ab=function(){null!=this.v&&(this.v=null,ei(this),ci(this),vn(19))},St.jb=function(t){t?(this.h.info("Successfully pinged google.com"),vn(2)):(this.h.info("Failed to ping google.com"),vn(1))},(St=bi.prototype).xa=function(){},St.wa=function(){},St.va=function(){},St.ua=function(){},St.Oa=function(){},wi.prototype.g=function(t,e){return new _i(t,e)},Vt(_i,Ue),_i.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),We(Ft(t.hb,t,e))),vn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=yi(t,null,t.W),ii(t)},_i.prototype.close=function(){ti(this.g)},_i.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,ri(this.g,e)}else this.v?((e={}).__data__=Ge(t),ri(this.g,e)):ri(this.g,t)},_i.prototype.M=function(){this.g.j=null,delete this.j,ti(this.g),delete this.g,_i.Z.M.call(this)},Vt(Ei,xn),Vt(Ii,An),Vt(Ti,bi),Ti.prototype.xa=function(){qe(this.g,"a")},Ti.prototype.wa=function(t){qe(this.g,new Ei(t))},Ti.prototype.va=function(t){qe(this.g,new Ii(t))},Ti.prototype.ua=function(){qe(this.g,"b")},wi.prototype.createWebChannel=wi.prototype.g,_i.prototype.send=_i.prototype.u,_i.prototype.open=_i.prototype.m,_i.prototype.close=_i.prototype.close,_n.NO_ERROR=0,_n.TIMEOUT=8,_n.HTTP_ERROR=6,En.COMPLETE="complete",Tn.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Ue.prototype.listen=Ue.prototype.N,jr.prototype.listenOnce=jr.prototype.O,jr.prototype.getLastError=jr.prototype.La,jr.prototype.getLastErrorCode=jr.prototype.Da,jr.prototype.getStatus=jr.prototype.ba,jr.prototype.getResponseJson=jr.prototype.Qa,jr.prototype.getResponseText=jr.prototype.ga,jr.prototype.send=jr.prototype.ea;var Si=_n,Ci=En,xi=fn,Ai=Or,ki=Tn,Ni=jr,Di=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Di.o=-1;var Oi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pi=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,wt.ZT)(e,t),e}(Error),Ri=new Et.Yd("@firebase/firestore");function Li(){return Ri.logLevel}function Fi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ri.logLevel<=Et.in.DEBUG){var r=e.map(ji);Ri.debug.apply(Ri,(0,wt.ev)(["Firestore (8.7.0): "+t],r))}}function Mi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ri.logLevel<=Et.in.ERROR){var r=e.map(ji);Ri.error.apply(Ri,(0,wt.ev)(["Firestore (8.7.0): "+t],r))}}function Vi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ri.logLevel<=Et.in.WARN){var r=e.map(ji);Ri.warn.apply(Ri,(0,wt.ev)(["Firestore (8.7.0): "+t],r))}}function ji(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(jp){return t}}function Ui(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+t;throw Mi(e),new Error(e)}function qi(t,e){t||Ui()}function Bi(t,e){return t}function Gi(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Hi=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Gi(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function zi(t,e){return t<e?-1:t>e?1:0}function Ki(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ji(t){return t+"\0"}var Zi=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Pi(Oi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Pi(Oi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Pi(Oi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pi(Oi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?zi(this.nanoseconds,t.nanoseconds):zi(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Qi=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Zi(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Wi(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $i(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yi(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Xi=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ui(),void 0===n?n=t.length-e:n>t.length-e&&Ui(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),to=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,wt.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Xi),eo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,no=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,wt.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return eo.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Pi(Oi.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Pi(Oi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Pi(Oi.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Xi),ro=function(){function t(t){this.fields=t,t.sort(no.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ki(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),io=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return zi(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();io.EMPTY_BYTE_STRING=new io("");var oo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(t){if(qi(!!t),"string"==typeof t){var e=0,n=oo.exec(t);if(qi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ao(t.seconds),nanos:ao(t.nanos)}}function ao(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function uo(t){return"string"==typeof t?io.fromBase64String(t):io.fromUint8Array(t)}function co(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lo(t){var e=t.mapValue.fields.__previous_value__;return co(e)?lo(e):e}function ho(t){var e=so(t.mapValue.fields.__local_write_time__.timestampValue);return new Zi(e.seconds,e.nanos)}function fo(t){return null==t}function po(t){return 0===t&&1/t==-1/0}function go(t){return"number"==typeof t&&Number.isInteger(t)&&!po(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mo=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(to.fromString(e))},t.fromName=function(e){return new t(to.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===to.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return to.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new to(e.slice()))},t}();function yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?co(t)?4:10:Ui()}function vo(t,e){var n=yo(t);if(n!==yo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ho(t).isEqual(ho(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=so(t.timestampValue),r=so(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return uo(t.bytesValue).isEqual(uo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ao(t.geoPointValue.latitude)===ao(e.geoPointValue.latitude)&&ao(t.geoPointValue.longitude)===ao(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ao(t.integerValue)===ao(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ao(t.doubleValue),r=ao(e.doubleValue);return n===r?po(n)===po(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ki(t.arrayValue.values||[],e.arrayValue.values||[],vo);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Wi(n)!==Wi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vo(n[i],r[i])))return!1;return!0}(t,e);default:return Ui()}}function bo(t,e){return void 0!==(t.values||[]).find(function(t){return vo(t,e)})}function wo(t,e){var n=yo(t),r=yo(e);if(n!==r)return zi(n,r);switch(n){case 0:return 0;case 1:return zi(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ao(t.integerValue||t.doubleValue),r=ao(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return _o(t.timestampValue,e.timestampValue);case 4:return _o(ho(t),ho(e));case 5:return zi(t.stringValue,e.stringValue);case 6:return function(t,e){var n=uo(t),r=uo(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=zi(n[i],r[i]);if(0!==o)return o}return zi(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=zi(ao(t.latitude),ao(e.latitude));return 0!==n?n:zi(ao(t.longitude),ao(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=wo(n[i],r[i]);if(o)return o}return zi(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=zi(r[s],o[s]);if(0!==a)return a;var u=wo(n[r[s]],i[o[s]]);if(0!==u)return u}return zi(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ui()}}function _o(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return zi(t,e);var n=so(t),r=so(e),i=zi(n.seconds,r.seconds);return 0!==i?i:zi(n.nanos,r.nanos)}function Eo(t){return Io(t)}function Io(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=so(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?uo(t.bytesValue).toBase64():"referenceValue"in t?mo.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Io(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Io(t.fields[o])}return e+"}"}(t.mapValue):Ui();var e}function To(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function So(t){return!!t&&"integerValue"in t}function Co(t){return!!t&&"arrayValue"in t}function xo(t){return!!t&&"nullValue"in t}function Ao(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ko(t){return!!t&&"mapValue"in t}function No(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},so(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return $i(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=No(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=No(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Do=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!ko(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=No(e)},t.prototype.setAll=function(t){var e=this,n=no.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=No(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());ko(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return vo(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];ko(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){$i(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(No(this.value))},t}();function Oo(t){var e=[];return $i(t.fields,function(t,n){var r=new no([t]);if(ko(n)){var i=Oo(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new ro(e)}var Po=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Qi.min(),Do.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Do.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Do.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Do.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Do.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ro=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Lo(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ro(t,e,n,r,i,o,s)}function Fo(t){var e=Bi(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Eo(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),fo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Qo(e.startAt)),e.endAt&&(n+="|ub:",n+=Qo(e.endAt)),e.h=n}return e.h}function Mo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!$o(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!vo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xo(t.startAt,e.startAt)&&Xo(t.endAt,e.endAt)}function Vo(t){return mo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var jo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,wt.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Uo(t,n,r):"array-contains"===n?new Ho(t,r):"in"===n?new zo(t,r):"not-in"===n?new Ko(t,r):"array-contains-any"===n?new Jo(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new qo(t,n):new Bo(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(wo(e,this.value)):null!==e&&yo(this.value)===yo(e)&&this.m(wo(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ui()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Uo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=mo.fromName(r.referenceValue),i}return(0,wt.ZT)(e,t),e.prototype.matches=function(t){var e=mo.comparator(t.key,this.key);return this.m(e)},e}(jo),qo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Go(0,n),r}return(0,wt.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(jo),Bo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Go(0,n),r}return(0,wt.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(jo);function Go(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return mo.fromName(t.referenceValue)})}var Ho=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,wt.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Co(e)&&bo(e.arrayValue,this.value)},e}(jo),zo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,wt.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&bo(this.value.arrayValue,e)},e}(jo),Ko=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,wt.ZT)(e,t),e.prototype.matches=function(t){if(bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!bo(this.value.arrayValue,e)},e}(jo),Jo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,wt.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Co(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return bo(e.value.arrayValue,t)})},e}(jo),Zo=function(t,e){this.position=t,this.before=e};function Qo(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Eo(t)}).join(",")}var Wo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function $o(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Yo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?mo.comparator(mo.fromName(s.referenceValue),n.key):wo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Xo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!vo(t.position[n],e.position[n]))return!1;return!0}var ts=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function es(t,e,n,r,i,o,s,a){return new ts(t,e,n,r,i,o,s,a)}function ns(t){return new ts(t)}function rs(t){return!fo(t.limit)&&"F"===t.limitType}function is(t){return!fo(t.limit)&&"L"===t.limitType}function os(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ss(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function as(t){return null!==t.collectionGroup}function us(t){var e=Bi(t);if(null===e.p){e.p=[];var n=ss(e),r=os(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Wo(n)),e.p.push(new Wo(no.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Wo(no.keyField(),u))}}}return e.p}function cs(t){var e=Bi(t);if(!e.T)if("F"===e.limitType)e.T=Lo(e.path,e.collectionGroup,us(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=us(e);r<i.length;r++){var o=i[r];n.push(new Wo(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Zo(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Zo(e.startAt.position,!e.startAt.before):null;e.T=Lo(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function ls(t,e,n){return new ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hs(t,e){return Mo(cs(t),cs(e))&&t.limitType===e.limitType}function fs(t){return Fo(cs(t))+"|lt:"+t.limitType}function ds(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Eo(e.value);var e}).join(", ")+"]"),fo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Qo(t.startAt)),t.endAt&&(e+=", endAt: "+Qo(t.endAt)),"Target("+e+")"}(cs(t))+"; limitType="+t.limitType+")"}function ps(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):mo.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Yo(t.startAt,us(t),e)||t.endAt&&Yo(t.endAt,us(t),e))}(t,e)}function gs(t){return function(e,n){for(var r=!1,i=0,o=us(t);i<o.length;i++){var s=o[i],a=ms(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function ms(t,e,n){var r=t.field.isKeyField()?mo.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?wo(r,i):Ui()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ui()}}function ys(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:po(e)?"-0":e}}function vs(t){return{integerValue:""+t}}function bs(t,e){return go(e)?vs(e):ys(t,e)}var ws=function(){this._=void 0};function _s(t,e,n){return t instanceof Ts?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ss?Cs(t,e):t instanceof xs?As(t,e):function(t,e){var n=Is(t,e),r=Ns(n)+Ns(t.A);return So(n)&&So(t.A)?vs(r):ys(t.R,r)}(t,e)}function Es(t,e,n){return t instanceof Ss?Cs(t,e):t instanceof xs?As(t,e):n}function Is(t,e){return t instanceof ks?So(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ts=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,wt.ZT)(e,t),e}(ws),Ss=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,wt.ZT)(e,t),e}(ws);function Cs(t,e){for(var n=Ds(e),r=function(t){n.some(function(e){return vo(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,wt.ZT)(e,t),e}(ws);function As(t,e){for(var n=Ds(e),r=function(t){n=n.filter(function(e){return!vo(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ks=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,wt.ZT)(e,t),e}(ws);function Ns(t){return ao(t.integerValue||t.doubleValue)}function Ds(t){return Co(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Os=function(t,e){this.field=t,this.transform=e},Ps=function(t,e){this.version=t,this.transformResults=e},Rs=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ls(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Fs=function(){};function Ms(t,e,n){t instanceof Bs?function(t,e,n){var r=t.value.clone(),i=zs(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Gs?function(t,e,n){if(Ls(t.precondition,e)){var r=zs(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Hs(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Vs(t,e,n){t instanceof Bs?function(t,e,n){if(Ls(t.precondition,e)){var r=t.value.clone(),i=Ks(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(qs(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Gs?function(t,e,n){if(Ls(t.precondition,e)){var r=Ks(t.fieldTransforms,n,e),i=e.data;i.setAll(Hs(t)),i.setAll(r),e.convertToFoundDocument(qs(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ls(t.precondition,e)&&e.convertToNoDocument(Qi.min())}(t,e)}function js(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Is(o.transform,s||null);null!=a&&(null==n&&(n=Do.empty()),n.set(o.field,a))}return n||null}function Us(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ki(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ss&&e instanceof Ss||t instanceof xs&&e instanceof xs?Ki(t.elements,e.elements,vo):t instanceof ks&&e instanceof ks?vo(t.A,e.A):t instanceof Ts&&e instanceof Ts}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function qs(t){return t.isFoundDocument()?t.version:Qi.min()}var Bs=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,wt.ZT)(e,t),e}(Fs),Gs=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,wt.ZT)(e,t),e}(Fs);function Hs(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function zs(t,e,n){var r=new Map;qi(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Es(s,a,n[i]))}return r}function Ks(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,_s(a,u,e))}return r}var Js,Zs,Qs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,wt.ZT)(e,t),e}(Fs),Ws=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,wt.ZT)(e,t),e}(Fs),$s=function(t){this.count=t};function Ys(t){switch(t){case Oi.OK:return Ui();case Oi.CANCELLED:case Oi.UNKNOWN:case Oi.DEADLINE_EXCEEDED:case Oi.RESOURCE_EXHAUSTED:case Oi.INTERNAL:case Oi.UNAVAILABLE:case Oi.UNAUTHENTICATED:return!1;case Oi.INVALID_ARGUMENT:case Oi.NOT_FOUND:case Oi.ALREADY_EXISTS:case Oi.PERMISSION_DENIED:case Oi.FAILED_PRECONDITION:case Oi.ABORTED:case Oi.OUT_OF_RANGE:case Oi.UNIMPLEMENTED:case Oi.DATA_LOSS:return!0;default:return Ui()}}function Xs(t){if(void 0===t)return Mi("GRPC error has no .code"),Oi.UNKNOWN;switch(t){case Js.OK:return Oi.OK;case Js.CANCELLED:return Oi.CANCELLED;case Js.UNKNOWN:return Oi.UNKNOWN;case Js.DEADLINE_EXCEEDED:return Oi.DEADLINE_EXCEEDED;case Js.RESOURCE_EXHAUSTED:return Oi.RESOURCE_EXHAUSTED;case Js.INTERNAL:return Oi.INTERNAL;case Js.UNAVAILABLE:return Oi.UNAVAILABLE;case Js.UNAUTHENTICATED:return Oi.UNAUTHENTICATED;case Js.INVALID_ARGUMENT:return Oi.INVALID_ARGUMENT;case Js.NOT_FOUND:return Oi.NOT_FOUND;case Js.ALREADY_EXISTS:return Oi.ALREADY_EXISTS;case Js.PERMISSION_DENIED:return Oi.PERMISSION_DENIED;case Js.FAILED_PRECONDITION:return Oi.FAILED_PRECONDITION;case Js.ABORTED:return Oi.ABORTED;case Js.OUT_OF_RANGE:return Oi.OUT_OF_RANGE;case Js.UNIMPLEMENTED:return Oi.UNIMPLEMENTED;case Js.DATA_LOSS:return Oi.DATA_LOSS;default:return Ui()}}(Zs=Js||(Js={}))[Zs.OK=0]="OK",Zs[Zs.CANCELLED=1]="CANCELLED",Zs[Zs.UNKNOWN=2]="UNKNOWN",Zs[Zs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zs[Zs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zs[Zs.NOT_FOUND=5]="NOT_FOUND",Zs[Zs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zs[Zs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zs[Zs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zs[Zs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zs[Zs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zs[Zs.ABORTED=10]="ABORTED",Zs[Zs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zs[Zs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zs[Zs.INTERNAL=13]="INTERNAL",Zs[Zs.UNAVAILABLE=14]="UNAVAILABLE",Zs[Zs.DATA_LOSS=15]="DATA_LOSS";var ta=function(){function t(t,e){this.comparator=t,this.root=e||na.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,na.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,na.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ea(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ea(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ea(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ea(this.root,t,this.comparator,!0)},t}(),ea=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),na=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ui();if(this.right.isRed())throw Ui();var t=this.left.check();if(t!==this.right.check())throw Ui();return t+(this.isRed()?0:1)},t}();na.EMPTY=null,na.RED=!0,na.BLACK=!1,na.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ui()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ui()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ui()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ui()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ui()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new na(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ra=function(){function t(t){this.comparator=t,this.data=new ta(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ia(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ia(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ia=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),oa=new ta(mo.comparator);function sa(){return oa}var aa=new ta(mo.comparator);function ua(){return aa}var ca=new ta(mo.comparator);function la(){return ca}var ha=new ra(mo.comparator);function fa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ha,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var da=new ra(zi);function pa(){return da}var ga=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ma.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Qi.min(),r,pa(),sa(),fa())},t}(),ma=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(io.EMPTY_BYTE_STRING,n,fa(),fa(),fa())},t}(),ya=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},va=function(t,e){this.targetId=t,this.V=e},ba=function(t,e,n,r){void 0===n&&(n=io.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},wa=function(){function t(){this.S=0,this.D=Ia(),this.C=io.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=fa(),e=fa(),n=fa();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ui()}}),new ma(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Ia()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),_a=function(){function t(t){this.W=t,this.G=new Map,this.H=sa(),this.J=Ea(),this.Y=new ra(zi)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Ui()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Vo(i))if(0===n){var o=new mo(i.path);this.tt(e,o,Po.newNoDocument(o,Qi.min()))}else qi(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Vo(o.target)){var s=new mo(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Po.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=fa();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ga(t,n,this.Y,this.H,r);return this.H=sa(),this.J=Ea(),this.Y=new ra(zi),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new wa,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ra(zi),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Fi("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new wa),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Ea(){return new ta(mo.comparator)}function Ia(){return new ta(mo.comparator)}var Ta={asc:"ASCENDING",desc:"DESCENDING"},Sa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ca=function(t,e){this.databaseId=t,this.I=e};function xa(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aa(t,e){return t.I?e.toBase64():e.toUint8Array()}function ka(t,e){return xa(t,e.toTimestamp())}function Na(t){return qi(!!t),Qi.fromTimestamp(function(t){var e=so(t);return new Zi(e.seconds,e.nanos)}(t))}function Da(t,e){return function(t){return new to(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Oa(t){var e=to.fromString(t);return qi(nu(e)),e}function Pa(t,e){return Da(t.databaseId,e.path)}function Ra(t,e){var n=Oa(e);if(n.get(1)!==t.databaseId.projectId)throw new Pi(Oi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pi(Oi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new mo(Va(n))}function La(t,e){return Da(t.databaseId,e)}function Fa(t){var e=Oa(t);return 4===e.length?to.emptyPath():Va(e)}function Ma(t){return new to(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Va(t){return qi(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ja(t,e,n){return{name:Pa(t,e),fields:n.value.mapValue.fields}}function Ua(t,e,n){var r=Ra(t,e.name),i=Na(e.updateTime),o=new Do({mapValue:{fields:e.fields}}),s=Po.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function qa(t,e){var n;if(e instanceof Bs)n={update:ja(t,e.key,e.value)};else if(e instanceof Qs)n={delete:Pa(t,e.key)};else if(e instanceof Gs)n={update:ja(t,e.key,e.data),updateMask:eu(e.fieldMask)};else{if(!(e instanceof Ws))return Ui();n={verify:Pa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ts)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ss)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xs)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ks)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Ui()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ka(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ui()}(t,e.precondition)),n}function Ba(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Rs.updateTime(Na(t.updateTime)):void 0!==t.exists?Rs.exists(t.exists):Rs.none()}(e.currentDocument):Rs.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(qi("REQUEST_TIME"===e.setToServerValue),n=new Ts):"appendMissingElements"in e?n=new Ss(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new xs(e.removeAllFromArray.values||[]):"increment"in e?n=new ks(t,e.increment):Ui();var r=no.fromServerFormat(e.fieldPath);return new Os(r,n)}(t,e)}):[];if(e.update){var i=Ra(t,e.update.name),o=new Do({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new ro((t.fieldPaths||[]).map(function(t){return no.fromServerFormat(t)}))}(e.updateMask);return new Gs(i,o,s,n,r)}return new Bs(i,o,n,r)}if(e.delete){var a=Ra(t,e.delete);return new Qs(a,n)}if(e.verify){var u=Ra(t,e.verify);return new Ws(u,n)}return Ui()}function Ga(t,e){return{documents:[La(t,e.path)]}}function Ha(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=La(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=La(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ao(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NAN"}};if(xo(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ao(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NAN"}};if(xo(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(t.field),op:Wa(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:$a(t.field),direction:Qa(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||fo(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ja(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ja(e.endAt)),n}function za(t){var e=Fa(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){qi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Ka(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Wo(Ya(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return fo(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Za(n.startAt));var l=null;return n.endAt&&(l=Za(n.endAt)),es(e,i,a,s,u,"F",c,l)}function Ka(t){return t?void 0!==t.unaryFilter?[tu(t)]:void 0!==t.fieldFilter?[Xa(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Ka(t)}).reduce(function(t,e){return t.concat(e)}):Ui():[]}function Ja(t){return{before:t.before,values:t.position}}function Za(t){return new Zo(t.values||[],!!t.before)}function Qa(t){return Ta[t]}function Wa(t){return Sa[t]}function $a(t){return{fieldPath:t.canonicalString()}}function Ya(t){return no.fromServerFormat(t.fieldPath)}function Xa(t){return jo.create(Ya(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ui()}}(t.fieldFilter.op),t.fieldFilter.value)}function tu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ya(t.unaryFilter.field);return jo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ya(t.unaryFilter.field);return jo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ya(t.unaryFilter.field);return jo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ya(t.unaryFilter.field);return jo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ui()}}function eu(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function nu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ru(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ou(e)),e=iu(t.get(n),e);return ou(e)}function iu(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ou(t){return t+"\x01\x01"}function su(t){var e=t.length;if(qi(e>=2),2===e)return qi("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),to.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ui(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ui()}o=s+2}return new to(r)}var au=function(t,e){this.seconds=t,this.nanoseconds=e},uu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};uu.store="owner",uu.key="owner";var cu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};cu.store="mutationQueues",cu.keyPath="userId";var lu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};lu.store="mutations",lu.keyPath="batchId",lu.userMutationsIndex="userMutationsIndex",lu.userMutationsKeyPath=["userId","batchId"];var hu=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ru(e)]},t.key=function(t,e,n){return[t,ru(e),n]},t}();hu.store="documentMutations",hu.PLACEHOLDER=new hu;var fu=function(t,e){this.path=t,this.readTime=e},du=function(t,e){this.path=t,this.version=e},pu=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};pu.store="remoteDocuments",pu.readTimeIndex="readTimeIndex",pu.readTimeIndexPath="readTime",pu.collectionReadTimeIndex="collectionReadTimeIndex",pu.collectionReadTimeIndexPath=["parentPath","readTime"];var gu=function(t){this.byteSize=t};gu.store="remoteDocumentGlobal",gu.key="remoteDocumentGlobalKey";var mu=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};mu.store="targets",mu.keyPath="targetId",mu.queryTargetsIndexName="queryTargetsIndex",mu.queryTargetsKeyPath=["canonicalId","targetId"];var yu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};yu.store="targetDocuments",yu.keyPath=["targetId","path"],yu.documentTargetsIndex="documentTargetsIndex",yu.documentTargetsKeyPath=["path","targetId"];var vu=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};vu.key="targetGlobalKey",vu.store="targetGlobal";var bu=function(t,e){this.collectionId=t,this.parent=e};bu.store="collectionParents",bu.keyPath=["collectionId","parent"];var wu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};wu.store="clientMetadata",wu.keyPath="clientId";var _u=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};_u.store="bundles",_u.keyPath="bundleId";var Eu=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Eu.store="namedQueries",Eu.keyPath="name";var Iu=(0,wt.ev)((0,wt.ev)([],(0,wt.ev)((0,wt.ev)([],(0,wt.ev)((0,wt.ev)([],(0,wt.ev)((0,wt.ev)([],[cu.store,lu.store,hu.store,pu.store,mu.store,uu.store,vu.store,yu.store]),[wu.store])),[gu.store])),[bu.store])),[_u.store,Eu.store]),Tu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Su=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Cu=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},xu=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ui(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Au=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Cu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Du(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Fu(e.target.error);n.ft.reject(new Du(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Du(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Fi("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Pu(e)},t}(),ku=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,_t.z$)())&&Mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Fi("SimpleDb","Removing database:",t),Ru(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,_t.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,wt.mG)(this,void 0,void 0,function(){var e,n=this;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Fi("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Du(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Pi(Oi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Du(t,n))},i.onupgradeneeded=function(t){Fi("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Fi("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,wt.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,wt.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,wt.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Au.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),xu.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Fi("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Nu=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ru(this.Pt.delete())},t}(),Du=function(t){function e(e,n){var r=this;return(r=t.call(this,Oi.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,wt.ZT)(e,t),e}(Pi);function Ou(t){return"IndexedDbTransactionError"===t.name}var Pu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Fi("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Fi("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ru(n)},t.prototype.add=function(t){return Fi("SimpleDb","ADD",this.store.name,t,t),Ru(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ru(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Fi("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Fi("SimpleDb","DELETE",this.store.name,t),Ru(this.store.delete(t))},t.prototype.count=function(){return Fi("SimpleDb","COUNT",this.store.name),Ru(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Fi("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new xu(function(n,r){e.onerror=function(t){var e=Fu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new xu(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Nu(i),s=e(i.primaryKey,i.value,o);if(s instanceof xu){var a=s.catch(function(t){return o.done(),xu.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return xu.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ru(t){return new xu(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Fu(t.target.error);n(e)}})}var Lu=!1;function Fu(t){var e=ku._t((0,_t.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Pi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Lu||(Lu=!0,setTimeout(function(){throw r},0)),r}}return t}var Mu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,wt.ZT)(e,t),e}(Su);function Vu(t,e){var n=Bi(t);return ku.It(n.Mt,e)}var ju=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ms(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Vs(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Vs(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Qi.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},fa())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ki(this.mutations,t.mutations,function(t,e){return Us(t,e)})&&Ki(this.baseMutations,t.baseMutations,function(t,e){return Us(t,e)})},t}(),Uu=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){qi(e.mutations.length===r.length);for(var i=la(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),qu=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Qi.min()),void 0===o&&(o=Qi.min()),void 0===s&&(s=io.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Bu=function(t){this.Lt=t};function Gu(t,e){if(e.document)return Ua(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=mo.fromSegments(e.noDocument.path),r=Zu(e.noDocument.readTime),i=Po.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=mo.fromSegments(e.unknownDocument.path);return r=Zu(e.unknownDocument.version),Po.newUnknownDocument(o,r)}return Ui()}function Hu(t,e,n){var r=zu(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Pa(t,e.key),fields:e.data.value.mapValue.fields,updateTime:xa(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new pu(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Ju(e.version);return s=e.hasCommittedMutations,new pu(null,new fu(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Ju(e.version);return new pu(new du(c,l),null,null,!0,r,i)}return Ui()}function zu(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ku(t){var e=new Zi(t[0],t[1]);return Qi.fromTimestamp(e)}function Ju(t){var e=t.toTimestamp();return new au(e.seconds,e.nanoseconds)}function Zu(t){var e=new Zi(t.seconds,t.nanoseconds);return Qi.fromTimestamp(e)}function Qu(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Ba(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Ba(t.Lt,e)}),o=Zi.fromMillis(e.localWriteTimeMs);return new ju(e.batchId,o,n,i)}function Wu(t){var e,n,r=Zu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Zu(t.lastLimboFreeSnapshotVersion):Qi.min();return void 0!==t.query.documents?(qi(1===(n=t.query).documents.length),e=cs(ns(Fa(n.documents[0])))):e=function(t){return cs(za(t))}(t.query),new qu(e,t.targetId,0,t.lastListenSequenceNumber,r,i,io.fromBase64String(t.resumeToken))}function $u(t,e){var n,r=Ju(e.snapshotVersion),i=Ju(e.lastLimboFreeSnapshotVersion);n=Vo(e.target)?Ga(t.Lt,e.target):Ha(t.Lt,e.target);var o=e.resumeToken.toBase64();return new mu(e.targetId,Fo(e.target),r,o,e.sequenceNumber,i,n)}function Yu(t){var e=za({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ls(e,e.limit,"L"):e}var Xu=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return tc(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Zu(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return tc(t).put({bundleId:(n=e).id,createTime:Ju(Na(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return ec(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Yu(e.bundledQuery),readTime:Zu(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return ec(t).put(function(t){return{name:t.name,readTime:Ju(Na(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function tc(t){return Vu(t,_u.store)}function ec(t){return Vu(t,Eu.store)}var nc=function(){function t(){this.Bt=new rc}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),xu.resolve()},t.prototype.getCollectionParents=function(t,e){return xu.resolve(this.Bt.getEntries(e))},t}(),rc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ra(to.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ra(to.comparator)).toArray()},t}(),ic=function(){function t(){this.qt=new rc}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:ru(i)};return oc(t).put(o)}return xu.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ji(e),""],!1,!0);return oc(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(su(o.parent))}return n})},t}();function oc(t){return Vu(t,bu.store)}var sc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ac=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function uc(t,e,n){var r=t.store(lu.store),i=t.store(hu.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){qi(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=hu.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return xu.waitFor(o).next(function(){return c})}function cc(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ui();e=t.noDocument}return JSON.stringify(e).length}ac.DEFAULT_COLLECTION_PERCENTILE=10,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ac.DEFAULT=new ac(41943040,ac.DEFAULT_COLLECTION_PERCENTILE,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ac.DISABLED=new ac(-1,0,0);var lc=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return qi(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fc(t).$t({index:lu.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=dc(t),s=fc(t);return s.add({}).next(function(a){qi("number"==typeof a);for(var u=new ju(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return qa(t.Lt,e)}),i=n.mutations.map(function(e){return qa(t.Lt,e)});return new lu(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new ra(function(t,e){return zi(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=hu.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,hu.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),xu.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return fc(t).get(e).next(function(t){return t?(qi(t.userId===n.userId),Qu(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?xu.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return fc(t).$t({index:lu.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(qi(e.batchId>=r),o=Qu(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fc(t).$t({index:lu.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fc(t).Nt(lu.userMutationsIndex,n).next(function(t){return t.map(function(t){return Qu(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=hu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return dc(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=su(r[1]);if(a===n.userId&&e.path.isEqual(c))return fc(t).get(u).next(function(t){if(!t)throw Ui();qi(t.userId===n.userId),o.push(Qu(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ra(zi),i=[];return e.forEach(function(e){var o=hu.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=dc(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=su(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),xu.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=hu.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ra(zi);return dc(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=su(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(fc(t).get(e).next(function(t){if(null===t)throw Ui();qi(t.userId===n.userId),r.push(Qu(n.R,t))}))}),xu.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return uc(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),xu.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return xu.resolve();var r=IDBKeyRange.lowerBound(hu.prefixForUser(e.userId)),i=[];return dc(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=su(t[1]);i.push(o)}else r.done()}).next(function(){qi(0===i.length)})})},t.prototype.containsKey=function(t,e){return hc(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return pc(t).get(this.userId).next(function(t){return t||new cu(e.userId,-1,"")})},t}();function hc(t,e,n){var r=hu.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return dc(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function fc(t){return Vu(t,lu.store)}function dc(t){return Vu(t,hu.store)}function pc(t){return Vu(t,cu.store)}var gc=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),mc=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new gc(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Qi.fromTimestamp(new Zi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return yc(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return qi(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return yc(t).$t(function(s,a){var u=Wu(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return xu.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return yc(t).$t(function(t,n){var r=Wu(n);e(r)})},t.prototype.Xt=function(t){return vc(t).get(vu.key).next(function(t){return qi(null!==t),t})},t.prototype.Zt=function(t,e){return vc(t).put(vu.key,e)},t.prototype.te=function(t,e){return yc(t).put($u(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Fo(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return yc(t).$t({range:r,index:mu.queryTargetsIndexName},function(t,n,r){var o=Wu(n);Mo(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=bc(t);return e.forEach(function(e){var s=ru(e.path);i.push(o.put(new yu(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),xu.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=bc(t);return xu.forEach(e,function(e){var o=ru(e.path);return xu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=bc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=bc(t),i=fa();return r.$t({range:n,kt:!0},function(t,e,n){var r=su(t[1]),o=new mo(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=ru(e.path),r=IDBKeyRange.bound([n],[Ji(n)],!1,!0),i=0;return bc(t).$t({index:yu.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return yc(t).get(e).next(function(t){return t?Wu(t):null})},t}();function yc(t){return Vu(t,mu.store)}function vc(t){return Vu(t,vu.store)}function bc(t){return Vu(t,yu.store)}function wc(t){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){if(t.code!==Oi.FAILED_PRECONDITION||t.message!==Tu)throw t;return Fi("LocalStore","Unexpectedly lost primary lease"),[2]})})}function _c(t,e){var n=t[1],r=e[1],i=zi(t[0],e[0]);return 0===i?zi(n,r):i}var Ec=function(){function t(t){this.ne=t,this.buffer=new ra(_c),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();_c(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ic=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Fi("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,wt.mG)(e,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ou(e=n.sent())?(Fi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,wc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Tc=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return xu.resolve(Di.o);var r=new Ec(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Fi("LruGarbageCollector","Garbage collection skipped; disabled"),xu.resolve(sc)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Fi("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),sc):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Fi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Li()<=Et.in.DEBUG&&Fi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),xu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Sc=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Tc(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Cc(t,n)},t.prototype.removeReference=function(t,e,n){return Cc(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Cc(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return pc(t).Ot(function(r){return hc(t,r,e).next(function(t){return t&&(n=!0),xu.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),bc(t).delete([0,ru(s.path)])})});i.push(u)}}).next(function(){return xu.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Cc(t,e)},t.prototype.we=function(t,e){var n,r=bc(t),i=Di.o;return r.$t({index:yu.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Di.o&&e(new mo(su(n)),i),i=s,n=o):i=Di.o}).next(function(){i!==Di.o&&e(new mo(su(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Cc(t,e){return bc(t).put(function(t,e){return new yu(0,ru(t.path),e)}(e,t.currentSequenceNumber))}var xc=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){$i(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Yi(this.inner)},t}(),Ac=function(){function t(){this.changes=new xc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Qi.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Po.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?xu.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),kc=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Oc(t).put(Pc(e),n)},t.prototype.removeEntry=function(t,e){var n=Oc(t),r=Pc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Oc(t).get(Pc(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Oc(t).get(Pc(e)).next(function(t){return{document:n.ye(e,t),size:cc(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=sa();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=sa(),i=new ta(mo.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,cc(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return xu.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Oc(t).$t({range:r},function(t,e,r){for(var s=mo.fromSegments(t);o&&mo.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=sa(),o=e.path.length+1,s={};if(n.isEqual(Qi.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=zu(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=pu.collectionReadTimeIndex}return Oc(t).$t(s,function(t,n,s){if(t.length===o){var a=Gu(r.R,n);e.path.isPrefixOf(a.key.path)?ps(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Nc(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Dc(t).get(gu.key).next(function(t){return qi(!!t),t})},t.prototype.me=function(t,e){return Dc(t).put(gu.key,e)},t.prototype.ye=function(t,e){if(e){var n=Gu(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Qi.min()))return n}return Po.newInvalidDocument(t)},t}(),Nc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new xc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,wt.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ra(function(t,e){return zi(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Hu(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=cc(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Hu(e.Ie.R,Po.newNoDocument(o,Qi.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),xu.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Ac);function Dc(t){return Vu(t,gu.store)}function Oc(t){return Vu(t,pu.store)}function Pc(t){return t.path.toArray()}var Rc=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;qi(n<r&&n>=0&&r<=11);var o=new Au("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(uu.store)}(t),function(t){t.createObjectStore(cu.store,{keyPath:cu.keyPath}),t.createObjectStore(lu.store,{keyPath:lu.keyPath,autoIncrement:!0}).createIndex(lu.userMutationsIndex,lu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(hu.store)}(t),Lc(t),function(t){t.createObjectStore(pu.store)}(t));var s=xu.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(yu.store),t.deleteObjectStore(mu.store),t.deleteObjectStore(vu.store)}(t),Lc(t)),s=s.next(function(){return function(t){var e=t.store(vu.store),n=new vu(0,0,Qi.min().toTimestamp(),0);return e.put(vu.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(lu.store).Nt().next(function(n){t.deleteObjectStore(lu.store),t.createObjectStore(lu.store,{keyPath:lu.keyPath,autoIncrement:!0}).createIndex(lu.userMutationsIndex,lu.userMutationsKeyPath,{unique:!0});var r=e.store(lu.store),i=n.map(function(t){return r.put(t)});return xu.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(wu.store,{keyPath:wu.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(gu.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(pu.store);e.createIndex(pu.readTimeIndex,pu.readTimeIndexPath,{unique:!1}),e.createIndex(pu.collectionReadTimeIndex,pu.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(_u.store,{keyPath:_u.keyPath})}(t),function(t){t.createObjectStore(Eu.store,{keyPath:Eu.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(pu.store).$t(function(t,n){e+=cc(n)}).next(function(){var n=new gu(e);return t.store(gu.store).put(gu.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(cu.store),r=t.store(lu.store);return n.Nt().next(function(n){return xu.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(lu.userMutationsIndex,i).next(function(r){return xu.forEach(r,function(r){qi(r.userId===n.userId);var i=Qu(e.R,r);return uc(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(yu.store),n=t.store(pu.store);return t.store(vu.store).get(vu.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new to(n),s=function(t){return[0,ru(t)]}(o);r.push(e.get(s).next(function(n){return n?xu.resolve():function(n){return e.put(new yu(0,ru(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return xu.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(bu.store,{keyPath:bu.keyPath});var n=e.store(bu.store),r=new rc,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:ru(i)})}};return e.store(pu.store).$t({kt:!0},function(t,e){var n=new to(t);return i(n.popLast())}).next(function(){return e.store(hu.store).$t({kt:!0},function(t,e){var n=su(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(mu.store);return n.$t(function(t,r){var i=Wu(r),o=$u(e.R,i);return n.put(o)})},t}();function Lc(t){t.createObjectStore(yu.store,{keyPath:yu.keyPath}).createIndex(yu.documentTargetsIndex,yu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(mu.store,{keyPath:mu.keyPath}).createIndex(mu.queryTargetsIndexName,mu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(vu.store)}var Fc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Mc=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Pi(Oi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sc(this,i),this.Le=n+"main",this.R=new Bu(u),this.Be=new ku(this.Le,11,new Rc(this.R)),this.qe=new mc(this.referenceDelegate,this.R),this.Ut=new ic,this.Ue=function(t,e){return new kc(t,e)}(this.R,this.Ut),this.Ke=new Xu,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Pi(Oi.FAILED_PRECONDITION,Fc);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Di(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,wt.mG)(e,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,wt.mG)(e,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,wt.mG)(e,void 0,void 0,function(){return(0,wt.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return jc(e).put(new wu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Ou(e))return Fi("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Fi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Vc(t).get(uu.key).next(function(t){return xu.resolve(e.tn(t))})},t.prototype.en=function(t){return jc(t).delete(this.clientId)},t.prototype.nn=function(){return(0,wt.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Vu(t,wu.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return xu.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?xu.resolve(!0):Vc(t).get(uu.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Pi(Oi.FAILED_PRECONDITION,Fc);return!1}}return!(!e.networkEnabled||!e.inForeground)||jc(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Fi("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,wt.mG)(this,void 0,void 0,function(){var t=this;return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[uu.store,wu.store],function(e){var n=new Mu(e,Di.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return jc(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return lc.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Fi("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Iu,function(o){return r=new Mu(o,i.Ne?i.Ne.next():Di.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Mi("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Pi(Oi.FAILED_PRECONDITION,Tu);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Vc(t).get(uu.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Pi(Oi.FAILED_PRECONDITION,Fc)})},t.prototype.Ze=function(t){var e=new uu(this.clientId,this.allowTabSynchronization,Date.now());return Vc(t).put(uu.key,e)},t.yt=function(){return ku.yt()},t.prototype.Xe=function(t){var e=this,n=Vc(t);return n.get(uu.key).next(function(t){return e.tn(t)?(Fi("IndexedDbPersistence","Releasing primary lease."),n.delete(uu.key)):xu.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Mi("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Fi("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Mi("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Mi("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Vc(t){return Vu(t,uu.store)}function jc(t){return Vu(t,wu.store)}function Uc(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var qc=function(t,e){this.progress=t,this.wn=e},Bc=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return mo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):as(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new mo(e)).next(function(t){var e=ua();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=ua();return this.Ut.getCollectionParents(t,i).next(function(s){return xu.forEach(s,function(s){var a=function(t,e){return new ts(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Po.newInvalidDocument(c),r=r.insert(c,l)),Vs(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){ps(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=fa(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Gs&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Gc=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=fa(),i=fa(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Hc=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Qi.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(rs(e)||is(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Li()<=Et.in.DEBUG&&Fi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ds(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new ra(gs(t));return e.forEach(function(e,r){ps(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Li()<=Et.in.DEBUG&&Fi("QueryEngine","Using full collection scan to execute query:",ds(e)),this.Sn.getDocumentsMatchingQuery(t,e,Qi.min())},t}(),zc=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ta(zi),this.kn=new xc(function(t){return Fo(t)},Mo),this.$n=Qi.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Bc(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Kc(t,e,n,r){return new zc(t,e,n,r)}function Jc(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,wt.Jh)(this,function(s){switch(s.label){case 0:return n=Bi(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Bc(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=fa(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Zc(t,e){var n=Bi(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=xu.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);qi(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Qc(t){var e=Bi(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Wc(t,e){var n=Bi(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return qi(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=sa();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push($c(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Qi.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return xu.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function $c(t,e,n,r,i){var o=fa();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=sa();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Qi.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Fi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Yc(t,e){var n=Bi(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Xc(t,e){var n=Bi(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?xu.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new qu(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function tl(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,wt.Jh)(this,function(a){switch(a.label){case 0:r=Bi(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ou(s=a.sent()))throw s;return Fi("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function el(t,e,n){var r=Bi(t),i=Qi.min(),o=fa();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Bi(t),i=r.kn.get(n);return void 0!==i?xu.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,cs(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Qi.min(),n?o:fa())}).next(function(t){return{documents:t,Bn:o}})})}function nl(t,e){var n=Bi(t),r=Bi(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function rl(t){var e=Bi(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Bi(t),i=sa(),o=zu(n),s=Oc(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:pu.readTimeIndex,range:a},function(t,e){var n=Gu(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Ku(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function il(t){return(0,wt.mG)(this,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(n){return[2,(e=Bi(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Oc(t),n=Qi.min();return e.$t({index:pu.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Ku(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function ol(t,e,n,r){return(0,wt.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return(0,wt.Jh)(this,function(p){switch(p.label){case 0:for(i=Bi(t),o=fa(),s=sa(),a=la(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Xc(i,function(t){return cs(ns(to.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return $c(t,f,s,Qi.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function sl(t,e,n){return void 0===n&&(n=fa()),(0,wt.mG)(this,void 0,void 0,function(){var r,i;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:return[4,Xc(t,cs(Yu(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Bi(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Na(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(io.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var al=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return xu.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Na(n.createTime)}),xu.resolve()},t.prototype.getNamedQuery=function(t,e){return xu.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Yu(t.bundledQuery),readTime:Na(t.readTime)}}(e)),xu.resolve()},t}(),ul=function(){function t(){this.Wn=new ra(cl.Gn),this.zn=new ra(cl.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new cl(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new cl(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new mo(new to([])),r=new cl(n,t),i=new cl(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new mo(new to([])),n=new cl(e,t),r=new cl(e,t+1),i=fa();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new cl(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),cl=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return mo.comparator(t.key,e.key)||zi(t.ns,e.ns)},t.Hn=function(t,e){return zi(t.ns,e.ns)||mo.comparator(t.key,e.key)},t}(),ll=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ra(cl.Gn)}return t.prototype.checkEmpty=function(t){return xu.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new ju(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new cl(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return xu.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return xu.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return xu.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return xu.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return xu.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new cl(e,0),i=new cl(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),xu.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ra(zi);return e.forEach(function(t){var e=new cl(t,0),i=new cl(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),xu.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;mo.isDocumentKey(i)||(i=i.child(""));var o=new cl(new mo(i),0),s=new ra(zi);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),xu.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;qi(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return xu.forEach(e.mutations,function(i){var o=new cl(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new cl(e,0),r=this.rs.firstAfterOrEqual(n);return xu.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return xu.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),hl=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ta(mo.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return xu.resolve(n?n.document.clone():Po.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=sa();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Po.newInvalidDocument(t))}),xu.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=sa(),i=new mo(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||ps(e,u)&&(r=r.insert(u.key,u.clone()))}return xu.resolve(r)},t.prototype.fs=function(t,e){return xu.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new fl(this)},t.prototype.getSize=function(t){return xu.resolve(this.size)},t}(),fl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,wt.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),xu.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Ac),dl=function(){function t(t){this.persistence=t,this.ds=new xc(function(t){return Fo(t)},Mo),this.lastRemoteSnapshotVersion=Qi.min(),this.highestTargetId=0,this.ws=0,this._s=new ul,this.targetCount=0,this.ys=gc.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),xu.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return xu.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return xu.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),xu.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),xu.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new gc(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,xu.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),xu.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,xu.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),xu.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return xu.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return xu.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),xu.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),xu.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),xu.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return xu.resolve(n)},t.prototype.containsKey=function(t,e){return xu.resolve(this._s.containsKey(e))},t}(),pl=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Di(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new dl(this),this.Ut=new nc,this.Ue=function(t,e){return new hl(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Bu(e),this.Ke=new al(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new ll(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Fi("MemoryPersistence","Starting transaction:",t);var i=new gl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return xu.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),gl=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,wt.ZT)(e,t),e}(Su),ml=function(){function t(t){this.persistence=t,this.As=new ul,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ui()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),xu.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),xu.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),xu.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xu.forEach(this.vs,function(r){var i=mo.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return xu.or([function(){return xu.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),yl=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function vl(t,e){return"firestore_clients_"+t+"_"+e}function bl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function wl(t,e){return"firestore_targets_"+t+"_"+e}yl.UNAUTHENTICATED=new yl(null),yl.GOOGLE_CREDENTIALS=new yl("google-credentials-uid"),yl.FIRST_PARTY=new yl("first-party-uid");var _l=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Pi(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Mi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),El=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Pi(i.error.code,i.error.message)),o?new t(e,i.state,r):(Mi("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Il=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=pa(),s=0;i&&s<r.activeTargetIds.length;++s)i=go(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Mi("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Tl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Mi("SharedClientState","Failed to parse online state: "+e),null)},t}(),Sl=function(){function t(){this.activeTargetIds=pa()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Cl=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ta(zi),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=vl(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Sl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,wt.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,wt.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(vl(this.persistenceKey,r)))&&(o=Il.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(wl(this.persistenceKey,t));if(n){var r=El.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(wl(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Fi("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Fi("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Fi("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Fi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,wt.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,wt.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Di.o;if(null!=t)try{var n=JSON.parse(t);qi("number"==typeof n),e=n}catch(t){Mi("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Di.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new _l(this.currentUser,t,e,n),i=bl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=bl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=wl(this.persistenceKey,t),i=new El(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Il.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return _l.Vs(new yl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return El.Vs(r,e)},t.prototype.js=function(t){return Tl.Vs(t)},t.prototype.ii=function(t){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Fi("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=pa();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),xl=function(){function t(){this.li=new Sl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Sl,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Al=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),kl=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Fi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Fi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Nl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Dl=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Ol=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,wt.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Ni;s.listenOnce(Ci.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Si.NO_ERROR:var e=s.getResponseJson();Fi("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Si.TIMEOUT:Fi("Connection",'RPC "'+t+'" timed out'),o(new Pi(Oi.DEADLINE_EXCEEDED,"Request time out"));break;case Si.HTTP_ERROR:var n=s.getStatus();if(Fi("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Oi).indexOf(e)>=0?e:Oi.UNKNOWN}(r.status);o(new Pi(a,r.message))}else o(new Pi(Oi.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Pi(Oi.UNAVAILABLE,"Connection failed."));break;default:Ui()}}finally{Fi("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new wi,i=pn(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ai({})),this.Fi(o.initMessageHeaders,e),(0,_t.uI)()||(0,_t.b$)()||(0,_t.d)()||(0,_t.w1)()||(0,_t.Mn)()||(0,_t.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Fi("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Dl({Ei:function(t){c?Fi("Connection","Not sending because WebChannel is closed:",t):(u||(Fi("Connection","Opening WebChannel transport."),a.open(),u=!0),Fi("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,ki.EventType.OPEN,function(){c||Fi("Connection","WebChannel transport opened.")}),h(a,ki.EventType.CLOSE,function(){c||(c=!0,Fi("Connection","WebChannel transport closed"),l.Vi())}),h(a,ki.EventType.ERROR,function(t){c||(c=!0,Vi("Connection","WebChannel transport errored:",t),l.Vi(new Pi(Oi.UNAVAILABLE,"The operation could not be completed")))}),h(a,ki.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];qi(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Fi("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Js[t];if(void 0!==e)return Xs(e)}(i),s=r.message;void 0===o&&(o=Oi.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Pi(o,s)),a.close()}else Fi("Connection","WebChannel received:",n),l.Si(n)}}),h(i,xi.STAT_EVENT,function(t){10===t.stat?Fi("Connection","Detected buffering proxy"):11===t.stat&&Fi("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Fi("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Fi("RestConnection","Received: ",t),t},function(e){throw Vi("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Nl[t]},t}());function Pl(){return"undefined"!=typeof window?window:null}function Rl(){return"undefined"!=typeof document?document:null}function Ll(t){return new Ca(t,!0)}var Fl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Fi("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ml=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Fl(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Oi.RESOURCE_EXHAUSTED?(Mi(e.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Oi.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Pi(Oi.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,wt.mG)(t,void 0,void 0,function(){return(0,wt.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Fi("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Fi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Vl=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,wt.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ui()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(qi(void 0===e||"string"==typeof e),io.fromBase64String(e||"")):(qi(void 0===e||e instanceof Uint8Array),io.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Oi.UNKNOWN:Xs(t.code);return new Pi(e,t.message||"")}(a);n=new ba(r,i,o,s||null)}else if("documentChange"in e){i=Ra(t,(r=e.documentChange).document.name),o=Na(r.document.updateTime);var a=new Do({mapValue:{fields:r.document.fields}}),u=(s=Po.newFoundDocument(i,o,a),r.targetIds||[]);n=new ya(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Ra(t,(r=e.documentDelete).document),o=r.readTime?Na(r.readTime):Qi.min(),a=Po.newNoDocument(i,o),n=new ya([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ra(t,(r=e.documentRemove).document),n=new ya([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ui();var c=e.filter;i=new $s(r=c.count||0),n=new va(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Qi.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Qi.min():e.readTime?Na(e.readTime):Qi.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Ma(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Vo(r)?{documents:Ga(t,r)}:{query:Ha(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Aa(t,e.resumeToken):e.snapshotVersion.compareTo(Qi.min())>0&&(n.readTime=xa(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ui()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Ma(this.R),e.removeTarget=t,this.cr(e)},e}(Ml),jl=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,wt.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(qi(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(qi(void 0!==e),t.map(function(t){return function(t,e){var n=Na(t.updateTime?t.updateTime:e);return n.isEqual(Qi.min())&&(n=Na(e)),new Ps(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Na(t.commitTime);return this.listener.Tr(n,e)}return qi(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ma(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return qa(e.R,t)})};this.cr(n)},e}(Ml),Ul=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,wt.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Pi(Oi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Oi.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Pi(Oi.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Oi.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Pi(Oi.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),ql=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Mi(e),this.Vr=!1):Fi("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Bl=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,wt.mG)(o,void 0,void 0,function(){return(0,wt.Jh)(this,function(t){switch(t.label){case 0:return $l(this)?(Fi("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,wt.mG)(this,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return(e=Bi(t)).Or.add(4),[4,Hl(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Gl(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new ql(n,r)};function Gl(t){return(0,wt.mG)(this,void 0,void 0,function(){var e,n;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:if(!$l(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Hl(t){return(0,wt.mG)(this,void 0,void 0,function(){var e,n;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function zl(t,e){var n=Bi(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Wl(n)?Ql(n):fh(n).er()&&Jl(n,e))}function Kl(t,e){var n=Bi(t),r=fh(n);n.$r.delete(e),r.er()&&Zl(n,e),0===n.$r.size&&(r.er()?r.ir():$l(n)&&n.Br.set("Unknown"))}function Jl(t,e){t.qr.U(e.targetId),fh(t).mr(e)}function Zl(t,e){t.qr.U(e),fh(t).yr(e)}function Ql(t){t.qr=new _a({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),fh(t).start(),t.Br.Sr()}function Wl(t){return $l(t)&&!fh(t).tr()&&t.$r.size>0}function $l(t){return 0===Bi(t).Or.size}function Yl(t){t.qr=void 0}function Xl(t){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){return t.$r.forEach(function(e,n){Jl(t,e)}),[2]})})}function th(t,e){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(n){return Yl(t),Wl(t)?(t.Br.Nr(e),Ql(t)):t.Br.set("Unknown"),[2]})})}function eh(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var r,i,o;return(0,wt.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof ba&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,wt.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Fi("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,nh(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ya?t.qr.X(e):e instanceof va?t.qr.rt(e):t.qr.et(e),n.isEqual(Qi.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Qc(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(io.EMPTY_BYTE_STRING,n.snapshotVersion)),Zl(t,e);var r=new qu(n.target,e,1,n.sequenceNumber);Jl(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Fi("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,nh(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function nh(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var r=this;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:if(!Ou(e))throw e;return t.Or.add(1),[4,Hl(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Qc(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,wt.mG)(r,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return Fi("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Gl(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function rh(t,e){return e().catch(function(n){return nh(t,n,e)})}function ih(t){return(0,wt.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,wt.Jh)(this,function(s){switch(s.label){case 0:e=Bi(t),n=dh(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return $l(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Yc(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=dh(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,nh(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return oh(e)&&sh(e),[2]}})})}function oh(t){return $l(t)&&!dh(t).tr()&&t.kr.length>0}function sh(t){dh(t).start()}function ah(t){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){return dh(t).Ar(),[2]})})}function uh(t){return(0,wt.mG)(this,void 0,void 0,function(){var e,n,r;return(0,wt.Jh)(this,function(i){for(e=dh(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function ch(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var r,i;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Uu.from(r,e,n),[4,rh(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,ih(t)];case 2:return o.sent(),[2]}})})}function lh(t,e){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return e&&dh(t).pr?[4,function(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:return Ys(r=e.code)&&r!==Oi.ABORTED?(n=t.kr.shift(),dh(t).sr(),[4,rh(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,ih(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return oh(t)&&sh(t),[2]}})})}function hh(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:return n=Bi(t),e?(n.Or.delete(2),[4,Gl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Hl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function fh(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Bi(t);return r.br(),new Vl(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Xl.bind(null,t),Ri:th.bind(null,t),_r:eh.bind(null,t)}),t.Mr.push(function(n){return(0,wt.mG)(e,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Wl(t)?Ql(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Yl(t),e.label=3;case 3:return[2]}})})})),t.Ur}function dh(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Bi(t);return r.br(),new jl(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ah.bind(null,t),Ri:lh.bind(null,t),Ir:uh.bind(null,t),Tr:ch.bind(null,t)}),t.Mr.push(function(n){return(0,wt.mG)(e,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,ih(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(Fi("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var ph=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Cu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pi(Oi.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function gh(t,e){if(Mi("AsyncQueue",e+": "+t),Ou(t))return new Pi(Oi.UNAVAILABLE,e+": "+t);throw t}var mh=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||mo.comparator(e.key,n.key)}:function(t,e){return mo.comparator(t.key,e.key)},this.keyedMap=ua(),this.sortedSet=new ta(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),yh=function(){function t(){this.Qr=new ta(mo.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Ui():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),vh=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,mh.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),bh=function(){this.Wr=void 0,this.listeners=[]},wh=function(){this.queries=new xc(function(t){return fs(t)},hs),this.onlineState="Unknown",this.Gr=new Set};function _h(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,wt.Jh)(this,function(c){switch(c.label){case 0:if(n=Bi(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new bh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=gh(a,"Initialization of query '"+ds(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Sh(n),[2]}})})}function Eh(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,wt.Jh)(this,function(a){return n=Bi(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Ih(t,e){for(var n=Bi(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Sh(n)}function Th(t,e,n){var r=Bi(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Sh(t){t.Gr.forEach(function(t){t.next()})}var Ch=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=vh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),xh=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Ah=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ra(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ua(this.R,t.document,!1):Po.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Na(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Ah(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||fa()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,wt.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:return[4,ol(this.localStore,new Ah(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,sl(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new qc(Object.assign({},this.progress),t))]}})})}}();var kh=function(t){this.key=t},Nh=function(t){this.key=t},Dh=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=fa(),this.mutatedKeys=fa(),this.lo=gs(t),this.fo=new mh(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new yh,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=rs(this.query)&&i.size===this.query.limit?i.last():null,c=is(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=ps(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),rs(this.query)||is(this.query))for(;s.size>this.query.limit;){var l=rs(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ui()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new vh(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new yh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=fa(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Nh(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new kh(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=fa();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return vh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Oh=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ph=function(t){this.key=t,this.bo=!1},Rh=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new xc(function(t){return fs(t)},hs),this.Vo=new Map,this.So=new Set,this.Do=new ta(mo.comparator),this.Co=new Map,this.No=new ul,this.xo={},this.Fo=new Map,this.ko=gc.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Lh(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,wt.Jh)(this,function(a){switch(a.label){case 0:return n=hf(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Xc(n.localStore,cs(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Fh(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&zl(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Fh(t,e,n,r){return(0,wt.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,wt.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,wt.mG)(this,void 0,void 0,function(){var i,o,s;return(0,wt.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,el(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Qh(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,el(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Dh(e,i.Bn),s=o._o(i.documents),a=ma.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Qh(t,n,u.To),c=new Oh(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Mh(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:return n=Bi(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!hs(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,tl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Kl(n.remoteStore,r.targetId),Jh(n,r.targetId)}).catch(wc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Jh(n,r.targetId),[4,tl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Vh(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,wt.Jh)(this,function(a){switch(a.label){case 0:r=ff(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Bi(t),i=Zi.now(),o=e.reduce(function(t,e){return t.add(e.key)},fa());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=js(c,n.get(c.key));null!=l&&s.push(new Gs(c.key,l,Oo(l.value.mapValue),Rs.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ta(zi)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Yh(r,i.changes)];case 3:return a.sent(),[4,ih(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=gh(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function jh(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:n=Bi(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Wc(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(qi(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?qi(r.bo):t.removedDocuments.size>0&&(qi(r.bo),r.bo=!1))}),[4,Yh(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,wc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Uh(t,e,n){var r=Bi(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Bi(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Sh(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qh(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,wt.Jh)(this,function(c){switch(c.label){case 0:return(r=Bi(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new ta(mo.comparator)).insert(o,Po.newNoDocument(o,Qi.min())),a=fa().add(o),u=new ga(Qi.min(),new Map,new ra(zi),s,a),[4,jh(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),$h(r),[3,4];case 2:return[4,tl(r.localStore,e,!1).then(function(){return Jh(r,e,n)}).catch(wc)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Bh(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:n=Bi(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Zc(n.localStore,e)];case 2:return i=o.sent(),Kh(n,r,null),zh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Yh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,wc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Gh(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var r,i;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:r=Bi(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Bi(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return qi(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Kh(r,e,n),zh(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Yh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,wc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Hh(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,wt.Jh)(this,function(a){switch(a.label){case 0:$l((n=Bi(t)).remoteStore)||Fi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Bi(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=gh(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function zh(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Kh(t,e,n){var r=Bi(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Jh(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Zh(t,e)})}function Zh(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Kl(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),$h(t))}function Qh(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof kh?(t.No.addReference(o.key,e),Wh(t,o)):o instanceof Nh?(Fi("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Zh(t,o.key)):Ui()}}function Wh(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Fi("SyncEngine","New document in limbo: "+n),t.So.add(r),$h(t))}function $h(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new mo(to.fromString(e)),r=t.ko.next();t.Co.set(r,new Ph(n)),t.Do=t.Do.insert(n,r),zl(t.remoteStore,new qu(cs(ns(n.path)),r,2,Di.o))}}function Yh(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,wt.Jh)(this,function(a){switch(a.label){case 0:return r=Bi(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Gc.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,wt.Jh)(this,function(l){switch(l.label){case 0:n=Bi(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return xu.forEach(e,function(e){return xu.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return xu.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ou(r=l.sent()))throw r;return Fi("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Xh(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:return(n=Bi(t)).currentUser.isEqual(e)?[3,3]:(Fi("SyncEngine","User change. New user:",e.toKey()),[4,Jc(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Pi(Oi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Yh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function tf(t,e){var n=Bi(t),r=n.Co.get(e);if(r&&r.bo)return fa().add(r.key);var i=fa(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function ef(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:return[4,el((n=Bi(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Qh(n,e.targetId,i.To),i)]}})})}function nf(t){return(0,wt.mG)(this,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(n){return[2,rl((e=Bi(t)).localStore).then(function(t){return Yh(e,t)})]})})}function rf(t,e,n,r){return(0,wt.mG)(this,void 0,void 0,function(){var i,o;return(0,wt.Jh)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Bi(t),r=Bi(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):xu.resolve(null)})})}((i=Bi(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,ih(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Kh(i,e,r||null),zh(i,e),function(t,e){Bi(Bi(t)._n).Gt(e)}(i.localStore,e)):Ui(),s.label=4;case 4:return[4,Yh(i,o)];case 5:return s.sent(),[3,7];case 6:Fi("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function of(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,wt.Jh)(this,function(c){switch(c.label){case 0:return hf(n=Bi(t)),ff(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,sf(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,hh(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)zl(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Jh(n,e),tl(n.localStore,e,!0)}),Kl(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,sf(n,a)];case 5:return c.sent(),function(t){var e=Bi(t);e.Co.forEach(function(t,n){Kl(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new ta(mo.comparator)}(n),n.$o=!1,[4,hh(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function sf(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return(0,wt.Jh)(this,function(g){switch(g.label){case 0:n=Bi(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Xc(n.localStore,cs(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,ef(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,nl(n.localStore,a)];case 8:return p=g.sent(),[4,Xc(n.localStore,p)];case 9:return u=g.sent(),[4,Fh(n,af(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function af(t){return es(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function uf(t){var e=Bi(t);return Bi(Bi(e.localStore).persistence).fn()}function cf(t,e,n,r){return(0,wt.mG)(this,void 0,void 0,function(){var i,o,s;return(0,wt.Jh)(this,function(a){switch(a.label){case 0:return(i=Bi(t)).$o?(Fi("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rl(i.localStore)];case 3:return o=a.sent(),s=ga.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Yh(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,tl(i.localStore,e,!0)];case 6:return a.sent(),Jh(i,e,r),[3,8];case 7:Ui(),a.label=8;case 8:return[2]}})})}function lf(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,wt.Jh)(this,function(f){switch(f.label){case 0:if(!(r=hf(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Fi("SyncEngine","Adding an already active target "+s),[3,5]):[4,nl(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Xc(r.localStore,a)];case 3:return u=f.sent(),[4,Fh(r,af(a),u.targetId,!1)];case 4:f.sent(),zl(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,tl(r.localStore,t,!1).then(function(){Kl(r.remoteStore,t),Jh(r,t)}).catch(wc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function hf(t){var e=Bi(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qh.bind(null,e),e.vo._r=Ih.bind(null,e.eventManager),e.vo.Mo=Th.bind(null,e.eventManager),e}function ff(t){var e=Bi(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gh.bind(null,e),e}var df=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return this.R=Ll(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Kc(this.persistence,new Hc,t.initialUser,this.R)},t.prototype.qo=function(t){return new pl(ml.bs,this.R)},t.prototype.Bo=function(t){return new xl},t.prototype.terminate=function(){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),pf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,wt.ZT)(e,t),e.prototype.initialize=function(e){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,il(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,ff(this.Qo.syncEngine)];case 4:return n.sent(),[4,ih(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return Kc(this.persistence,new Hc,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Ic(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Uc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ac.withCacheSize(this.cacheSizeBytes):ac.DEFAULT;return new Mc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Pl(),Rl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new xl},e}(df),gf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,wt.ZT)(e,t),e.prototype.initialize=function(e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r=this;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Cl?(this.sharedClientState.syncEngine={ui:rf.bind(null,n),ai:cf.bind(null,n),hi:lf.bind(null,n),fn:uf.bind(null,n),ci:nf.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,wt.mG)(r,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return[4,of(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Pl();if(!Cl.yt(e))throw new Pi(Oi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Uc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Cl(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(pf),mf=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n=this;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Uh(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Xh.bind(null,this.syncEngine),[4,hh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new wh},t.prototype.createDatastore=function(t){var e=Ll(t.databaseInfo.databaseId),n=new Ol(t.databaseInfo);return function(t,e,n){return new Ul(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Uh(s.syncEngine,t,0)},o=kl.yt()?new kl:new Al,new Bl(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Rh(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,wt.mG)(this,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return e=Bi(t),Fi("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Hl(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),yf=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),vf=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Cu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,wt.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new xh(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,wt.mG)(this,void 0,void 0,function(){var t,e;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,wt.mG)(this,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,wt.mG)(this,void 0,void 0,function(){var t,e;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,wt.mG)(this,void 0,void 0,function(){var e,n=this;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Pi(Oi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,wt.Jh)(this,function(u){switch(u.label){case 0:return n=Bi(t),r=Ma(n.R)+"/documents",i={documents:e.map(function(t){return Pa(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){qi(!!e.found);var n=Ra(t,e.found.name),r=Na(e.found.updateTime),i=new Do({mapValue:{fields:e.found.fields}});return Po.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){qi(!!e.missing),qi(!!e.readTime);var n=Ra(t,e.missing),r=Na(e.readTime);return Po.newNoDocument(n,r)}(t,e):Ui()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());qi(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Qs(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,wt.mG)(this,void 0,void 0,function(){var t,e=this;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=mo.fromPath(n);e.mutations.push(new Ws(r,e.precondition(r)))}),[4,function(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:return n=Bi(t),r=Ma(n.R)+"/documents",i={writes:e.map(function(t){return qa(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ui();e=Qi.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Pi(Oi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Rs.updateTime(e):Rs.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Qi.min()))throw new Pi(Oi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rs.updateTime(e)}return Rs.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),bf=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Fl(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,wt.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,wt.Jh)(this,function(r){return t=new vf(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!fo(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ys(e)}return!1},t}(),wf=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=yl.UNAUTHENTICATED,this.clientId=Hi.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,wt.mG)(r,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return Fi("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Pi(Oi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Cu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,wt.mG)(t,void 0,void 0,function(){var t,n;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=gh(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function _f(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Fi("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,wt.mG)(i,void 0,void 0,function(){return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Jc(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Ef(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,If(t)];case 1:return n=i.sent(),Fi("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,wt.mG)(this,void 0,void 0,function(){var n,r;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:return(n=Bi(t)).asyncQueue.verifyOperationInProgress(),Fi("RemoteStore","RemoteStore received new credentials"),r=$l(n),n.Or.add(3),[4,Hl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Gl(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function If(t){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Fi("FirestoreClient","Using default OfflineComponentProvider"),[4,_f(t,new df)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Tf(t){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Fi("FirestoreClient","Using default OnlineComponentProvider"),[4,Ef(t,new mf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Sf(t){return If(t).then(function(t){return t.persistence})}function Cf(t){return If(t).then(function(t){return t.localStore})}function xf(t){return Tf(t).then(function(t){return t.remoteStore})}function Af(t){return Tf(t).then(function(t){return t.syncEngine})}function kf(t){return(0,wt.mG)(this,void 0,void 0,function(){var e,n;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:return[4,Tf(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Lh.bind(null,e.syncEngine),n.onUnlisten=Mh.bind(null,e.syncEngine),n)]}})})}function Nf(t,e,n){var r=this;void 0===n&&(n={});var i=new Cu;return t.asyncQueue.enqueueAndForget(function(){return(0,wt.mG)(r,void 0,void 0,function(){var r;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new yf({next:function(o){e.enqueueAndForget(function(){return Eh(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Pi(Oi.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Pi(Oi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Ch(ns(n.path),o,{includeMetadataChanges:!0,so:!0});return _h(t,s)},[4,kf(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Df(t,e,n){var r=this;void 0===n&&(n={});var i=new Cu;return t.asyncQueue.enqueueAndForget(function(){return(0,wt.mG)(r,void 0,void 0,function(){var r;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new yf({next:function(n){e.enqueueAndForget(function(){return Eh(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Pi(Oi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Ch(n,o,{includeMetadataChanges:!0,so:!0});return _h(t,s)},[4,kf(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Of=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Pf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Rf=new Map,Lf=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ff=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(yl.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Mf=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Vf=function(){function t(t){var e=this;this.currentUser=yl.UNAUTHENTICATED,this.oc=new Cu,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Fi("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Fi("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Fi("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(qi("string"==typeof n.accessToken),new Lf(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,wt.mG)(n,void 0,void 0,function(){return(0,wt.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return qi(null===t||"string"==typeof t),new yl(t)},t}(),jf=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=yl.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Uf=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new jf(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(yl.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function qf(t,e,n){if(!n)throw new Pi(Oi.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Bf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Gf(t,e,n,r){if(!0===e&&!0===r)throw new Pi(Oi.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Hf(t){if(!mo.isDocumentKey(t))throw new Pi(Oi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function zf(t){if(mo.isDocumentKey(t))throw new Pi(Oi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Kf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ui()}function Jf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pi(Oi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Kf(t);throw new Pi(Oi.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Zf(t,e){if(e<=0)throw new Pi(Oi.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Qf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Pi(Oi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pi(Oi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Gf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Wf=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qf({}),this._settingsFrozen=!1,t instanceof Pf?(this._databaseId=t,this._credentials=new Ff):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Pi(Oi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pf(t.options.projectId)}(t),this._credentials=new Vf(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Pi(Oi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Pi(Oi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qf(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ff;switch(t.type){case"gapi":var e=t.client;return qi(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Uf(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Pi(Oi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Rf.get(this))&&(Fi("ComponentProvider","Removing Datastore"),Rf.delete(this),t.terminate()),Promise.resolve();var t},t}(),$f=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Yf=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Xf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ns(r))||this)._path=r,i.type="collection",i}return(0,wt.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new $f(this.firestore,null,new mo(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Yf);function td(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,_t.m9)(t),qf("collection","path",e),t instanceof Wf)return zf(n=to.fromString.apply(to,(0,wt.ev)([e],r))),new Xf(t,null,n);if(!(t instanceof $f||t instanceof Xf))throw new Pi(Oi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zf(n=to.fromString.apply(to,(0,wt.ev)([t.path],r)).child(to.fromString(e))),new Xf(t.firestore,null,n)}function ed(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,_t.m9)(t),1===arguments.length&&(e=Hi.u()),qf("doc","path",e),t instanceof Wf)return Hf(n=to.fromString.apply(to,(0,wt.ev)([e],r))),new $f(t,null,new mo(n));if(!(t instanceof $f||t instanceof Xf))throw new Pi(Oi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hf(n=t._path.child(to.fromString.apply(to,(0,wt.ev)([e],r)))),new $f(t.firestore,t instanceof Xf?t.converter:null,new mo(n))}function nd(t,e){return t=(0,_t.m9)(t),e=(0,_t.m9)(e),(t instanceof $f||t instanceof Xf)&&(e instanceof $f||e instanceof Xf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function rd(t,e){return t=(0,_t.m9)(t),e=(0,_t.m9)(e),t instanceof Yf&&e instanceof Yf&&t.firestore===e.firestore&&hs(t._query,e._query)&&t.converter===e.converter}var id=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Fl(this,"async_queue_retry"),this.Tc=function(){var e=Rl();e&&Fi("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Rl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=Rl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return(0,wt.mG)(this,void 0,void 0,function(){var t,e=this;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ou(t=n.sent()))throw t;return Fi("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Mi("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=ph.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&Ui()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return(0,wt.mG)(this,void 0,void 0,function(){var t;return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function od(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Cu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var sd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new id,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,wt.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||ud(this),this._firestoreClient.terminate()},e}(Wf);function ad(t){return t._firestoreClient||ud(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ud(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Of(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new wf(t._credentials,t._queue,r)}function cd(t,e,n){var r=this,i=new Cu;return t.asyncQueue.enqueue(function(){return(0,wt.mG)(r,void 0,void 0,function(){var r;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,_f(t,n)];case 1:return o.sent(),[4,Ef(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Oi.FAILED_PRECONDITION||t.code===Oi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function ld(t){if(t._initialized||t._terminated)throw new Pi(Oi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new no(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),fd=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(io.fromBase64String(e))}catch(e){throw new Pi(Oi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(io.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),dd=function(t){this._methodName=t},pd=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Pi(Oi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Pi(Oi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return zi(this._lat,t._lat)||zi(this._long,t._long)},t}(),gd=/^__.*__$/,md=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Gs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Bs(t,this.data,e,this.fieldTransforms)},t}(),yd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Gs(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function vd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ui()}}var bd=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return jd(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(vd(this.Cc)&&gd.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),wd=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Ll(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new bd({Cc:t,methodName:e,Bc:n,path:no.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function _d(t){var e=t._freezeSettings(),n=Ll(t._databaseId);return new wd(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ed(t,e,n,r,i,o){void 0===o&&(o={});var s=t.qc(o.merge||o.mergeFields?2:0,e,n,i);Ld("Data must be an object, but it was:",s,r);var a,u,c=Pd(r,s);if(o.merge)a=new ro(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Fd(e,f[h],n);if(!s.contains(d))throw new Pi(Oi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ud(l,d)||l.push(d)}a=new ro(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new md(new Do(c),a,u)}var Id=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,wt.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(dd);function Td(t,e,n){return new bd({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,wt.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Os(t.path,new Ts)},e.prototype.isEqual=function(t){return t instanceof e},e}(dd),Cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,wt.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Td(this,t,!0),n=this.Uc.map(function(t){return Od(t,e)}),r=new Ss(n);return new Os(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(dd),xd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,wt.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Td(this,t,!0),n=this.Uc.map(function(t){return Od(t,e)}),r=new xs(n);return new Os(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(dd),Ad=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,wt.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new ks(t.R,bs(t.R,this.Kc));return new Os(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(dd);function kd(t,e,n,r){var i=t.qc(1,e,n);Ld("Data must be an object, but it was:",i,r);var o=[],s=Do.empty();$i(r,function(t,r){var a=Vd(e,t,n);r=(0,_t.m9)(r);var u=i.$c(a);if(r instanceof Id)o.push(a);else{var c=Od(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new ro(o);return new yd(s,a,i.fieldTransforms)}function Nd(t,e,n,r,i,o){var s=t.qc(1,e,n),a=[Fd(e,r,n)],u=[i];if(o.length%2!=0)throw new Pi(Oi.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Fd(e,o[c])),u.push(o[c+1]);for(var l=[],h=Do.empty(),f=a.length-1;f>=0;--f)if(!Ud(l,a[f])){var d=a[f],p=u[f];p=(0,_t.m9)(p);var g=s.$c(d);if(p instanceof Id)l.push(d);else{var m=Od(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new ro(l);return new yd(h,y,s.fieldTransforms)}function Dd(t,e,n,r){return void 0===r&&(r=!1),Od(n,t.qc(r?4:3,e))}function Od(t,e){if(Rd(t=(0,_t.m9)(t)))return Ld("Unsupported field value:",e,t),Pd(t,e);if(t instanceof dd)return function(t,e){if(!vd(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Od(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,_t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bs(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Zi.fromDate(t);return{timestampValue:xa(e.R,n)}}if(t instanceof Zi)return n=new Zi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:xa(e.R,n)};if(t instanceof pd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fd)return{bytesValue:Aa(e.R,t._byteString)};if(t instanceof $f){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Da(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+Kf(t))}(t,e)}function Pd(t,e){var n={};return Yi(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$i(t,function(t,r){var i=Od(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Rd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Zi||t instanceof pd||t instanceof fd||t instanceof $f||t instanceof dd)}function Ld(t,e,n){if(!Rd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Kf(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function Fd(t,e,n){if((e=(0,_t.m9)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return Vd(t,e);throw jd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Md=new RegExp("[~\\*/\\[\\]]");function Vd(t,e,n){if(e.search(Md)>=0)throw jd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(hd.bind.apply(hd,(0,wt.ev)([void 0],e.split(".")))))._internalPath}catch(jp){throw jd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function jd(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Pi(Oi.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ud(t,e){return t.some(function(t){return t.isEqual(e)})}var qd=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new $f(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Bd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Gd("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,wt.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(qd);function Gd(t,e){return"string"==typeof e?Vd(t,e):e instanceof hd?e._internalPath:e._delegate._internalPath}var Hd=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),zd=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,wt.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Gd("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(qd),Kd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,wt.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(zd),Jd=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Hd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Kd(n._firestore,n._userDataWriter,r.key,r,new Hd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pi(Oi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Kd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Hd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Kd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Hd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Zd(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Zd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ui()}}function Qd(t,e){return t instanceof zd&&e instanceof zd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Jd&&e instanceof Jd&&t._firestore===e._firestore&&rd(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Wd(t){if(is(t)&&0===t.explicitOrderBy.length)throw new Pi(Oi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $d=function(){};function Yd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Xd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.jc=n,i.Wc=r,i.type="where",i}return(0,wt.ZT)(e,t),e.prototype._apply=function(t){var e=_d(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){sp(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(op(r,t,l[c]));a={arrayValue:{values:u}}}else a=op(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||sp(s,o),a=Dd(n,"where",s,"in"===o||"not-in"===o);var h=jo.create(i,o,a);return function(t,e){if(e.g()){var n=ss(t);if(null!==n&&!n.isEqual(e.field))throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=os(t);null!==r&&ap(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Pi(Oi.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.jc,this.Wc);return new Yf(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}($d),tp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Gc=n,r.type="orderBy",r}return(0,wt.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Wo(e,n);return function(t,e){if(null===os(t)){var n=ss(t);null!==n&&ap(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Gc);return new Yf(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ts(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}($d),ep=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return(0,wt.ZT)(e,t),e.prototype._apply=function(t){return new Yf(t.firestore,t.converter,ls(t._query,this.zc,this.Hc))},e}($d),np=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,wt.ZT)(e,t),e.prototype._apply=function(t){var e=ip(t,this.type,this.Jc,this.Yc);return new Yf(t.firestore,t.converter,function(t,e){return new ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}($d),rp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,wt.ZT)(e,t),e.prototype._apply=function(t){var e=ip(t,this.type,this.Jc,this.Yc);return new Yf(t.firestore,t.converter,function(t,e){return new ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}($d);function ip(t,e,n,r){if(n[0]=(0,_t.m9)(n[0]),n[0]instanceof qd)return function(t,e,n,r,i){if(!r)throw new Pi(Oi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=us(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(To(e,r.key));else{var c=r.data.field(u.field);if(co(c))throw new Pi(Oi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Zo(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=_d(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Pi(Oi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!as(t)&&-1!==c.indexOf("/"))throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(to.fromString(c));if(!mo.isDocumentKey(l))throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new mo(l);a.push(To(e,h))}else{var f=Dd(n,r,c);a.push(f)}}return new Zo(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function op(t,e,n){if("string"==typeof(n=(0,_t.m9)(n))){if(""===n)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!as(e)&&-1!==n.indexOf("/"))throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(to.fromString(n));if(!mo.isDocumentKey(r))throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return To(t,new mo(r))}if(n instanceof $f)return To(t,n._key);throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Kf(n)+".")}function sp(t,e){if(!Array.isArray(t)||0===t.length)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ap(t,e,n){if(!n.isEqual(e))throw new Pi(Oi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var up=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),yo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ao(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(uo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ui()}},t.prototype.convertObject=function(t,e){var n=this,r={};return $i(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new pd(ao(t.latitude),ao(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=lo(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ho(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=so(t);return new Zi(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=to.fromString(t);qi(nu(n));var r=new Pf(n.get(1),n.get(3)),i=new mo(n.popFirst(5));return r.isEqual(e)||Mi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function cp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var lp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,wt.ZT)(e,t),e.prototype.convertBytes=function(t){return new fd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new $f(this.firestore,null,e)},e}(up),hp=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=_d(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=fp(t,this._firestore),i=cp(r.converter,e,n),o=Ed(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Rs.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=fp(t,this._firestore);return o="string"==typeof(e=(0,_t.m9)(e))||e instanceof hd?Nd(this._dataReader,"WriteBatch.update",s._key,e,n,r):kd(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Rs.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=fp(t,this._firestore);return this._mutations=this._mutations.concat(new Qs(e._key,Rs.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Pi(Oi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function fp(t,e){if((t=(0,_t.m9)(t)).firestore!==e)throw new Pi(Oi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var dp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,wt.ZT)(e,t),e.prototype.convertBytes=function(t){return new fd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new $f(this.firestore,null,e)},e}(up);function pp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Jf(t,$f);var o=Jf(t.firestore,sd),s=_d(o);return mp(o,[("string"==typeof(e=(0,_t.m9)(e))||e instanceof hd?Nd(s,"updateDoc",t._key,e,n,r):kd(s,"updateDoc",t._key,e)).toMutation(t._key,Rs.exists(!0))])}function gp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,_t.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||od(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(od(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof $f)c=Jf(t.firestore,sd),l=ns(t._key.path),u={next:function(e){i[a]&&i[a](yp(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Jf(t,Yf);c=Jf(d.firestore,sd),l=d._query;var p=new dp(c);u={next:function(t){i[a]&&i[a](new Jd(c,p,d,t))},error:i[a+1],complete:i[a+2]},Wd(t._query)}return function(t,e,n,r){var i=this,o=new yf(r),s=new Ch(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,wt.mG)(i,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return e=_h,[4,kf(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,wt.mG)(i,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return e=Eh,[4,kf(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(ad(c),l,h,u)}function mp(t,e){return function(t,e){var n=this,r=new Cu;return t.asyncQueue.enqueueAndForget(function(){return(0,wt.mG)(n,void 0,void 0,function(){var n;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:return n=Vh,[4,Af(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(ad(t),e)}function yp(t,e,n){var r=n.docs.get(e._key),i=new dp(t);return new zd(t,i,e._key,r,new Hd(n.hasPendingWrites,n.fromCache),e.converter)}var vp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,wt.ZT)(e,t),e.prototype.get=function(e){var n=this,r=fp(e,this._firestore),i=new dp(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new zd(n._firestore,i,r._key,t._document,new Hd(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=_d(t)}return t.prototype.get=function(t){var e=this,n=fp(t,this._firestore),r=new lp(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Ui();var i=t[0];if(i.isFoundDocument())return new qd(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new qd(e._firestore,r,n._key,null,n.converter);throw Ui()})},t.prototype.set=function(t,e,n){var r=fp(t,this._firestore),i=cp(r.converter,e,n),o=Ed(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=fp(t,this._firestore);return o="string"==typeof(e=(0,_t.m9)(e))||e instanceof hd?Nd(this._dataReader,"Transaction.update",s._key,e,n,r):kd(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=fp(t,this._firestore);return this._transaction.delete(e._key),this},t}());function bp(){if("undefined"==typeof Uint8Array)throw new Pi(Oi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function wp(){if("undefined"==typeof atob)throw new Pi(Oi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var _p=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return wp(),new t(fd.fromBase64String(e))},t.fromUint8Array=function(e){return bp(),new t(fd.fromUint8Array(e))},t.prototype.toBase64=function(){return wp(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return bp(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Ep=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ld(t=Jf(t,sd));var n=ad(t),r=t._freezeSettings(),i=new mf;return cd(n,i,new pf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ld(t=Jf(t,sd));var e=ad(t),n=t._freezeSettings(),r=new mf;return cd(e,r,new gf(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Pi(Oi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Cu;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,wt.mG)(e,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,wt.mG)(this,void 0,void 0,function(){return(0,wt.Jh)(this,function(e){switch(e.label){case 0:return ku.yt()?[4,ku.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Uc(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Ip=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Pf||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Vi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Jf(t,Wf))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Vi("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,_t.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Pi(Oi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Mf(new Lf(o,new yl(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,wt.mG)(e,void 0,void 0,function(){var e,n;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:return[4,Sf(t)];case 1:return e=r.sent(),[4,xf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Bi(t);return e.Or.delete(0),Gl(e)}(n))]}})})})}(ad(Jf(this._delegate,sd)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,wt.mG)(e,void 0,void 0,function(){var e,n;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:return[4,Sf(t)];case 1:return e=r.sent(),[4,xf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,wt.mG)(this,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return(e=Bi(t)).Or.add(0),[4,Hl(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(ad(Jf(this._delegate,sd)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Gf("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Cu;return t.asyncQueue.enqueueAndForget(function(){return(0,wt.mG)(e,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(r){switch(r.label){case 0:return e=Hh,[4,Af(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(ad(Jf(this._delegate,sd)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new yf(e);return t.asyncQueue.enqueueAndForget(function(){return(0,wt.mG)(n,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Bi(t).Gr.add(e),e.next()},[4,kf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,wt.mG)(n,void 0,void 0,function(){var e;return(0,wt.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Bi(t).Gr.delete(e)},[4,kf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(ad(t=Jf(t,sd)),od(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Pi(Oi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Mp(this,td(this._delegate,t))}catch(t){throw kp(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Ap(this,ed(this._delegate,t))}catch(t){throw kp(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Rp(this,function(t,e){if(t=Jf(t,Wf),qf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Yf(t,null,function(t){return new ts(to.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw kp(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Cu;return t.asyncQueue.enqueueAndForget(function(){return(0,wt.mG)(n,void 0,void 0,function(){var n;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return Tf(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new bf(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(ad(t),function(n){return e(new vp(t,n))})}(this._delegate,function(n){return t(new Sp(e,n))})},t.prototype.batch=function(){var t=this;return ad(this._delegate),new Cp(new hp(this._delegate,function(e){return mp(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Pi(Oi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Pi(Oi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Tp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,wt.ZT)(e,t),e.prototype.convertBytes=function(t){return new _p(new fd(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Ap.tu(e,this.firestore,null)},e}(up),Sp=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Tp(t)}return t.prototype.get=function(t){var e=this,n=Vp(t);return this._delegate.get(n).then(function(t){return new Op(e._firestore,new zd(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Vp(t);return n?(Bf("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Vp(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,wt.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Vp(t);return this._delegate.delete(e),this},t}(),Cp=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Vp(t);return n?(Bf("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Vp(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,wt.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Vp(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),xp=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Kd(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Pp(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Tp(e),n),i.set(n,o)),o},t}();xp.nu=new WeakMap;var Ap=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Tp(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Pi(Oi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new $f(n._delegate,r,new mo(e)))},t.tu=function(e,n,r){return new t(n,new $f(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Mp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Mp(this.firestore,td(this._delegate,t))}catch(t){throw kp(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,_t.m9)(t))instanceof $f&&nd(this._delegate,t)},t.prototype.set=function(t,e){e=Bf("DocumentReference.set",e);try{return function(t,e,n){t=Jf(t,$f);var r=Jf(t.firestore,sd),i=cp(t.converter,e,n);return mp(r,[Ed(_d(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Rs.none())])}(this._delegate,t,e)}catch(t){throw kp(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?pp(this._delegate,t):pp.apply(void 0,(0,wt.ev)([this._delegate,t,e],n))}catch(t){throw kp(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return mp(Jf((t=this._delegate).firestore,sd),[new Qs(t._key,Rs.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Np(e),i=Dp(e,function(e){return new Op(t.firestore,new zd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return gp(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Jf(t,$f);var e=Jf(t.firestore,sd),n=ad(e),r=new dp(e);return function(t,e){var n=this,r=new Cu;return t.asyncQueue.enqueueAndForget(function(){return(0,wt.mG)(n,void 0,void 0,function(){var n;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var r,i;return(0,wt.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Bi(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Pi(Oi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=gh(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Cf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new zd(e,r,t._key,n,new Hd(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Jf(t,$f);var e=Jf(t.firestore,sd);return Nf(ad(e),t._key,{source:"server"}).then(function(n){return yp(e,t,n)})}(this._delegate):function(t){t=Jf(t,$f);var e=Jf(t.firestore,sd);return Nf(ad(e),t._key).then(function(n){return yp(e,t,n)})}(this._delegate)).then(function(t){return new Op(e.firestore,new zd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?xp.eu(this.firestore,e):null))},t}();function kp(t,e,n){return t.message=t.message.replace(e,n),t}function Np(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!od(r))return r}return{}}function Dp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=od(t[0])?t[0]:od(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Op=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Ap(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Qd(this._delegate,t._delegate)},t}(),Pp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,wt.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Op),Rp=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Tp(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Yd(this._delegate,function(t,e,n){var r=e,i=Gd("where",t);return new Xd(i,r,n)}(e,n,r)))}catch(e){throw kp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Yd(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Gd("orderBy",t);return new tp(r,n)}(e,n)))}catch(e){throw kp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Yd(this._delegate,function(t){return Zf("limit",t),new ep("limit",t,"F")}(e)))}catch(e){throw kp(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Yd(this._delegate,function(t){return Zf("limitToLast",t),new ep("limitToLast",t,"L")}(e)))}catch(e){throw kp(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new np("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw kp(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new np("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw kp(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rp("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw kp(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rp("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw kp(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return rd(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Jf(t,Yf);var e=Jf(t.firestore,sd),n=ad(e),r=new dp(e);return function(t,e){var n=this,r=new Cu;return t.asyncQueue.enqueueAndForget(function(){return(0,wt.mG)(n,void 0,void 0,function(){var n;return(0,wt.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,wt.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,wt.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,el(t,e,!0)];case 1:return a=u.sent(),r=new Dh(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=gh(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Cf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Jd(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Jf(t,Yf);var e=Jf(t.firestore,sd),n=ad(e),r=new dp(e);return Df(n,t._query,{source:"server"}).then(function(n){return new Jd(e,r,t,n)})}(this._delegate):function(t){t=Jf(t,Yf);var e=Jf(t.firestore,sd),n=ad(e),r=new dp(e);return Wd(t._query),Df(n,t._query).then(function(n){return new Jd(e,r,t,n)})}(this._delegate)).then(function(t){return new Fp(e.firestore,new Jd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Np(e),i=Dp(e,function(e){return new Fp(t.firestore,new Jd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return gp(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?xp.eu(this.firestore,e):null))},t}(),Lp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Pp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Fp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Rp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Pp(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Lp(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Pp(n._firestore,r))})},t.prototype.isEqual=function(t){return Qd(this._delegate,t._delegate)},t}(),Mp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,wt.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Ap(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Ap(this.firestore,void 0===t?ed(this._delegate):ed(this._delegate,t))}catch(t){throw kp(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Jf(t.firestore,sd),r=ed(t),i=cp(t.converter,e);return mp(n,[Ed(_d(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Rs.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Ap(e.firestore,t)})},e.prototype.isEqual=function(t){return nd(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?xp.eu(this.firestore,t):null))},e}(Rp);function Vp(t){return Jf(t,$f)}var jp,Up=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(hd.bind.apply(hd,(0,wt.ev)([void 0],t)))}return t.documentId=function(){return new t(no.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,_t.m9)(t))instanceof hd&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),qp=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Sd("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Id("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cd("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xd("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Ad("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Bp=n(6034),Gp={Firestore:Ip,GeoPoint:pd,Timestamp:Zi,Blob:_p,Transaction:Sp,WriteBatch:Cp,DocumentReference:Ap,DocumentSnapshot:Op,Query:Rp,QueryDocumentSnapshot:Pp,QuerySnapshot:Fp,CollectionReference:Mp,FieldPath:Up,FieldValue:qp,setLogLevel:function(t){Ri.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Bp.wA("firestore",function(t){return function(t,e){return new Ip(t,new sd(t,e),new Ep)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Gp)))})(jp=bt.Z),jp.registerVersion("@firebase/firestore","2.3.8"),n(9765),n(6682);var Hp=n(5345);n(7771);var zp=n(5319);n(7971),n(8858),Object.create(Error.prototype);const Kp=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();n(9193);class Jp{constructor(t){if(this.total=t,this.total<0)throw new Kp}call(t,e){return e.subscribe(new Zp(t,this.total))}}class Zp extends it.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}n(4487),n(3101);const Qp=new r.OlP("angularfire2.auth.use-emulator");function Wp(t,e){return function(t,e=W.z){return new $.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function $p(t,e){return Wp(t,e).pipe((0,ut.U)(t=>({payload:t,type:"query"})))}function Yp(t,e){return $p(t,e).pipe(rt(void 0),ot(),(0,ut.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Xp(t,e,n){return Yp(t,n).pipe(ct((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return tg(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return tg(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return tg(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new ft(undefined,undefined)),(0,ut.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function tg(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function eg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class ng{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Yp(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ut.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(rt(void 0),ot(),pt(([t,e])=>e.length>0||!t),(0,ut.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ct((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=eg(t);return Xp(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $p(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Y.D)(this.query.get(t)).pipe((0,yt.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new rg(this.ref.doc(t),this.afs)}}class rg{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=cg(n,e);return new ng(r,i,this.afs)}snapshotChanges(){return Wp(this.ref,this.afs.schedulers.outsideAngular).pipe(rt(void 0),ot(),(0,ut.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Y.D)(this.ref.get(t)).pipe((0,yt.QV)(this.afs.schedulers.insideAngular))}}class ig{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Yp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),pt(t=>t.length>0),this.afs.keepUnstableUntilFirst):Yp(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ct((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=eg(t);return Xp(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $p(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Y.D)(this.query.get(t)).pipe((0,yt.QV)(this.afs.schedulers.insideAngular))}}const og=new r.OlP("angularfire2.enableFirestorePersistence"),sg=new r.OlP("angularfire2.firestore.persistenceSettings"),ag=new r.OlP("angularfire2.firestore.settings"),ug=new r.OlP("angularfire2.firestore.use-emulator");function cg(t,e=(t=>t)){return{query:e(t),ref:t}}let lg,hg=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Q.HU(o),this.keepUnstableUntilFirst=(0,Q.ss)(this.schedulers);const c=(0,Q.on)(t,o,e);!vt.Z.auth&&u&&(0,Q.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,Q.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return(0,Y.D)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(jp){return"undefined"!=typeof console&&console.warn(jp),(0,X.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,X.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=cg(n,e),o=this.schedulers.ngZone.run(()=>r);return new ng(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ig(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new rg(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Q.Dh),r.LFG(Q.xv,8),r.LFG(og,8),r.LFG(ag,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(sg,8),r.LFG(ug,8),r.LFG(Qp,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Q.Dh),r.LFG(Q.xv,8),r.LFG(og,8),r.LFG(ag,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(sg,8),r.LFG(ug,8),r.LFG(Qp,8))},token:t,providedIn:"any"}),t})(),fg=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:og,useValue:!0},{provide:sg,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[hg]}),t})();try{lg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Td){lg=!1}let dg=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.Lbi))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const pg="cdk-high-contrast-black-on-white",gg="cdk-high-contrast-white-on-black",mg="cdk-high-contrast-active";let yg=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(mg),t.remove(pg),t.remove(gg),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(mg),t.add(pg)):2===e&&(t.add(mg),t.add(gg))}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(dg),r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(dg),r.LFG(s))},token:t,providedIn:"root"}),t})(),vg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const bg=new r.GfV("12.1.1");function wg(){return"undefined"!=typeof window&&void 0!==window.document}function _g(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}let Eg=(t,e)=>!1,Ig=(t,e)=>!1,Tg=(t,e,n)=>[];const Sg=_g();(Sg||"undefined"!=typeof Element)&&(Eg=wg()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),Ig=(()=>{if(Sg||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Ig}})(),Tg=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});function Cg(t,e,n){return n?e+":"+n+";":""}function xg(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Cg(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Cg(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Ag(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Dg(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),_g()&&xg(t))}function kg(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Dg(e);t.style[n]=""}),_g()&&xg(t))}const Ng=/-+([a-z0-9])/g;function Dg(t){return t.replace(Ng,(...t)=>t[1].toUpperCase())}class Og{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=Og.initialStylesByElement.get(t);r||Og.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ag(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ag(this._element,this._initialStyles),this._endStyles&&(Ag(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Og.initialStylesByElement.delete(this._element),this._startStyles&&(kg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kg(this._element,this._endStyles),this._endStyles=null),Ag(this._element,this._initialStyles),this._state=3)}}Og.initialStylesByElement=new WeakMap;const Pg=new r.GfV("12.1.1"),Rg=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Lg,Fg=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return(0,r.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Pg.full!==bg.full&&console.warn("The Angular Material version ("+Pg.full+") does not match the Angular CDK version ("+bg.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(yg),r.LFG(Rg,8),r.LFG(s))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[vg],vg]}),t})();function Mg(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}try{Lg="undefined"!=typeof Intl}catch(Td){Lg=!1}var Vg=n(205),jg=n(9796),Ug=n(1555);function qg(t,e){return new $.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,Y.D)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}var Bg=n(3342);class Gg{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Hg(t,this.selector,this.caught))}}class Hg extends Hp.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Hp.IY(this);this.add(r);const i=(0,Hp.ft)(n,r);i!==r&&this.add(i)}}}class zg{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Kg(t,this.callback))}}class Kg extends it.L{constructor(t,e){super(t),this.add(new zp.w(e))}}var Jg=n(3522),Zg=n(9773);class Qg{}class Wg{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Wg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Wg;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wg?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class $g{encodeKey(t){return Yg(t)}encodeValue(t){return Yg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Yg(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Xg(t){return`${t}`}class tm{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $g,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new tm({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Xg(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(Xg(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class em{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function nm(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function rm(t){return"undefined"!=typeof Blob&&t instanceof Blob}function im(t){return"undefined"!=typeof FormData&&t instanceof FormData}class om{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Wg),this.context||(this.context=new em),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new tm,this.urlWithParams=e}serializeBody(){return null===this.body?null:nm(this.body)||rm(this.body)||im(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof tm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||im(this.body)?null:rm(this.body)?this.body.type||null:nm(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new om(n,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var sm=(()=>((sm=sm||{})[sm.Sent=0]="Sent",sm[sm.UploadProgress=1]="UploadProgress",sm[sm.ResponseHeader=2]="ResponseHeader",sm[sm.DownloadProgress=3]="DownloadProgress",sm[sm.Response=4]="Response",sm[sm.User=5]="User",sm))();class am extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new Wg,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=sm.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new am({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function um(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let cm=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof om)r=t;else{let i,o;i=n.headers instanceof Wg?n.headers:new Wg(n.headers),n.params&&(o=n.params instanceof tm?n.params:new tm({fromObject:n.params})),r=new om(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,X.of)(r).pipe((0,Zg.zg)(t=>this.handler.handle(t),void 0,1));if(t instanceof om||"events"===n.observe)return i;const o=i.pipe(pt(t=>t instanceof am));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,ut.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe((0,ut.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe((0,ut.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe((0,ut.U)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new tm).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,um(n,e))}post(t,e,n={}){return this.request("POST",t,um(n,e))}put(t,e,n={}){return this.request("PUT",t,um(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Qg))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const lm=["*"];function hm(t){return Error(`Unable to find icon with the name "${t}"`)}function fm(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function dm(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class pm{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let gm=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new pm(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const o=this._sanitizer.sanitize(r.q3G.HTML,n);if(!o)throw dm(n);return this._addSvgIconConfig(t,e,new pm("",o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new pm(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.q3G.HTML,e);if(!i)throw dm(e);return this._addSvgIconSetConfig(t,new pm("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t);if(!e)throw fm(t);const n=this._cachedIconsByUrl.get(e);return n?(0,X.of)(mm(n)):this._loadSvgIconFromConfig(new pm(t,null)).pipe((0,Bg.b)(t=>this._cachedIconsByUrl.set(e,t)),(0,ut.U)(t=>mm(t)))}getNamedSvgIcon(t,e=""){const n=ym(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):(0,Vg._)(hm(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,X.of)(mm(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ut.U)(t=>mm(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?(0,X.of)(n):function(...t){if(1===t.length){const e=t[0];if((0,jg.k)(e))return qg(e,null);if((0,Ug.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return qg(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return qg(t=1===t.length&&(0,jg.k)(t[0])?t[0]:t,null).pipe((0,ut.U)(t=>e(...t)))}return qg(t,null)}(e.filter(t=>!t.svgText).map(t=>{return this._loadSvgIconSetFromConfig(t).pipe((e=e=>{const n=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),(0,X.of)(null)},function(t){const n=new Gg(e),r=t.lift(n);return n.caught=r}));var e})).pipe((0,ut.U)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw hm(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Bg.b)(e=>t.svgText=e),(0,ut.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,X.of)(null):this._fetchIcon(t).pipe((0,Bg.b)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,o=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!s)throw fm(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const u=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe((c=()=>this._inProgressUrlFetches.delete(s),t=>t.lift(new zg(c))),(0,Jg.B)());var c;return this._inProgressUrlFetches.set(s,u),u}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(ym(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new pm(i.url,null,i.options):new pm(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(cm,8),r.LFG(B),r.LFG(s,8),r.LFG(r.qLn))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(cm,8),r.LFG(B),r.LFG(s,8),r.LFG(r.qLn))},token:t,providedIn:"root"}),t})();function mm(t){return t.cloneNode(!0)}function ym(t,e){return t+":"+e}const vm=Mg(class{constructor(t){this._elementRef=t}}),bm=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const t=(0,r.f3M)(s),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),wm=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_m=wm.map(t=>`[${t}]`).join(", "),Em=/^url\(['"]?#(.*?)['"]?\)$/;let Im=(()=>{class t extends vm{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=zp.w.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){var e;this._inline=null!=(e=t)&&"false"!=`${e}`}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(_m),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)wm.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match(Em):null;if(s){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe((1,t=>t.lift(new Jp(1)))).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(gm),r.$8M("aria-hidden"),r.Y36(bm),r.Y36(r.qLn))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.ekj("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:lm,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),Tm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Fg],Fg]}),t})();const Sm={testVariable:"This is a test variable.",users:[{id:0,name:"Default"}],regEx:"/<sup>&reg;</sup>/g",menu:{entrees:[{id:0,name:"Chick-fil-A<sup>&reg;</sup> Chicken Sandwich",alt:"Chick-fil-A Chicken Sandwich",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Entrees/Parent/Classic_Sandwich.png",price:3.89},{id:1,name:"Chick-fil-A<sup>&reg;</sup> Deluxe Chicken Sandwich",alt:"Chick-fil-A Deluxe Chicken Sandwich",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Entrees/Parent/cfaDeluxe_mobile.png",price:4.59},{id:2,name:"Spicy Chicken Sandwich",alt:"Spicy Chicken Sandwich",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Entrees/Parent/Spicy_Sandwich.png",price:4.19},{id:3,name:"Spicy Deluxe Sandwich",alt:"Spicy Deluxe Sandwich",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Entrees/Parent/Spicy_deluxe_sandwich.png",price:4.89},{id:4,name:"Grilled Chicken Sandwich",alt:"Grilled Chicken Sandwich",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Entrees/Parent/grilledChickenSandwich_test.png",price:5.39},{id:5,name:"Chick-fil-A<sup>&reg;</sup> Grilled Chicken Club Sandwich",alt:"Chick-fil-A Grilled Chicken Club Sandwich",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Entrees/Parent/grilledChickenClub_test.png",price:6.89},{id:6,name:"Chick-fil-A<sup>&reg;</sup> Nuggets",alt:"Chick-fil-A Nuggets",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Entrees/Parent/Nuggets_8ct.png",price:3.99},{id:7,name:"Grilled Nuggets",alt:"Grilled Nuggets",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Entrees/Parent/Grilled_nuggets.png",price:4.79},{id:8,name:"Chick-fil-A Chick-n-Strips<sup>&reg;</sup>",alt:"Chick-fil-A Chick-n-Strips",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Entrees/Parent/Strips.png",price:4.49},{id:9,name:"Chick-fil-A<sup>&reg;</sup> Cool Wrap",alt:"Chick-fil-A Cool Wrap",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Salads/Menu%20Item/wrap_mobile.png",price:6.79},{id:10,name:"Gluten Free Bun",alt:"Gluten Free Bun",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Modifiers/Sandwich_mod/gluten_free_bun.png",price:1.7},{id:11,name:"Filets",alt:"Filets",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Entrees/Parent/cfa_filet.png",price:3.64}],sides:[{id:0,name:"Chick-fil-A Waffle Potato Fries<sup>&reg;</sup>",alt:"Chick-fil-A Waffle Potato Fries",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Sides/Menu%20Item/Medium_Lowered_1217shoot_800x800%20copy.png",price:1.99},{id:1,name:"Fruit Cup",alt:"Fruit Cup",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Sides/Parent/Fruit_Cup.png",price:3.29},{id:2,name:"Side Salad",alt:"Side Salad",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Sides/Menu%20Item/Side_Salad.png",price:3.35},{id:3,name:"Mac & Cheese",alt:"Mac & Cheese",imgPath:"https://www.cfacdn.com/img/order/Individual/Menu/Sides/MacnCheese_4oz.png",price:3.29},{id:4,name:"Chicken Noodle Soup",alt:"Chicken Noodle Soup",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Sides/Parent/Chicken_Soup.png",price:3.15},{id:5,name:"Kale Crunch Side",alt:"Kale Crunch Side",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Sides/Parent/01.2020_KaleCrunchSide_sm_mobile.png",price:1.99},{id:6,name:"Greek Yogurt Parfait",alt:"Greek Yogurt Parfait",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Sides/Parent/Jul19_OrganicAussieGreekYogurtParfaitCupGranola_mobile.png",price:3.99},{id:7,name:"Waffle Potato Chips",alt:"Waffle Potato Chips",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/chips.png",price:1.89},{id:8,name:"Buddy Fruits<sup>&reg;</sup> Apple Sauce",alt:"Buddy Fruits Apple Sauce",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Sides/Parent/Feb2020_mobile_appleSauce.png",price:1.99}],drinks:{softDrinks:[{id:0,name:"Coca-Cola<sup>&reg;</sup>",alt:"Coca-Cola",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/Coke.png",price:1.79},{id:1,name:"Diet Coke<sup>&reg;</sup>",alt:"Diet Coke",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/dietCoke_400.png",price:1.79},{id:2,name:"Coke<sup>&reg;</sup> Zero Sugar",alt:"Coke Zero Sugar",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/cokeZeroSugar_400.png",price:1.79},{id:3,name:"Coca-Cola<sup>&reg;</sup> Cherry",alt:"Coca-Cola Cherry",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/cherryCoke_400.png",price:1.79},{id:4,name:"Sprite<sup>&reg;</sup>",alt:"Sprite",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/sprite_400.png",price:1.79},{id:5,name:"Dr. Pepper<sup>&reg;</sup>",alt:"Dr. Pepper",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/drPepper_mobile.png",price:1.79},{id:6,name:"Diet Dr. Pepper<sup>&reg;</sup>",alt:"Diet Dr. Pepper",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/dietDrPepper_400.png",price:1.79},{id:7,name:"Barq's<sup>&reg;</sup> Root Beer",alt:"Barq's Root Beer",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/RootBeer.png",price:1.79},{id:8,name:"Hi-C<sup>&reg;</sup> Fruit Punch",alt:"Hi-C Fruit Punch",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/HiC_Fruit_Punch.png",price:1.79},{id:9,name:"Fanta<sup>&reg;</sup> Orange",alt:"Fanta Orange",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/fantaOrange_400.png",price:1.79},{id:10,name:"POWERADE<sup>&reg;</sup>",alt:"POWERADE",imgPath:"https://www.cfacdn.com/img/order/menu/Mobile/Beverages/Parent/powerade_400.png",price:1.79}]}}};function Cm(t,e){if(1&t&&(r.TgZ(0,"li",4),r._UZ(1,"img",5),r._UZ(2,"p",6),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.Q6J("alt",t.alt),r.uIk("src",t.imgPath,r.LSH),r.xp6(1),r.Q6J("innerHTML",t.name,r.oJD)}}function xm(t,e){if(1&t&&(r.TgZ(0,"li",4),r._UZ(1,"img",5),r._UZ(2,"p",6),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.Q6J("alt",t.alt),r.uIk("src",t.imgPath,r.LSH),r.xp6(1),r.Q6J("innerHTML",t.name,r.oJD)}}function Am(t,e){if(1&t&&(r.TgZ(0,"li",4),r._UZ(1,"img",5),r._UZ(2,"p",6),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.Q6J("alt",t.alt),r.uIk("src",t.imgPath,r.LSH),r.xp6(1),r.Q6J("innerHTML",t.name,r.oJD)}}let km=(()=>{class t{constructor(){this.data=Sm,this.panelEntreesOpenState=!1,this.panelSidesOpenState=!1,this.panelDrinksOpenState=!1}ngOnInit(){}toggleOpen(t,e){const n=t.target.classList.contains(e);console.dir(t.target.nextSibling),n?(t.target.classList.remove(e),t.target.nextSibling.style.height=t.target.nextSibling.scrollHeight+"px"):(t.target.classList.add(e),t.target.nextSibling.style.height=t.target.nextSibling.scrollHeight+"px",setTimeout(function(){t.target.nextSibling.style.height="0px"},1))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["item-picker"]],decls:19,vars:3,consts:[[1,"container"],[3,"click"],[1,"list"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],[3,"alt"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h1",1),r.NdJ("click",function(t){return e.toggleOpen(t,"closed")}),r._uU(2," Entrees "),r.TgZ(3,"mat-icon"),r._uU(4,"expand_more"),r.qZA(),r.qZA(),r.TgZ(5,"ul",2),r.YNc(6,Cm,3,3,"li",3),r.qZA(),r.TgZ(7,"h1",1),r.NdJ("click",function(t){return e.toggleOpen(t,"closed")}),r._uU(8," Sides "),r.TgZ(9,"mat-icon"),r._uU(10,"expand_more"),r.qZA(),r.qZA(),r.TgZ(11,"ul",2),r.YNc(12,xm,3,3,"li",3),r.qZA(),r.TgZ(13,"h1",1),r.NdJ("click",function(t){return e.toggleOpen(t,"closed")}),r._uU(14," Soft drinks "),r.TgZ(15,"mat-icon"),r._uU(16,"expand_more"),r.qZA(),r.qZA(),r.TgZ(17,"ul",2),r.YNc(18,Am,3,3,"li",3),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.Q6J("ngForOf",e.data.menu.entrees),r.xp6(6),r.Q6J("ngForOf",e.data.menu.sides),r.xp6(6),r.Q6J("ngForOf",e.data.menu.drinks.softDrinks))},directives:[Im,f],styles:[".container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{background-color:#f3f3f3;border-bottom:5px solid #e2e2e2;margin-top:10px;padding:5px 5px 5px 10px;position:relative}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:40px;height:40px;width:40px;transition:transform .2s}.container[_ngcontent-%COMP%]   h1.closed[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:center;list-style:none;overflow:hidden;padding:0;text-align:center;max-width:800px;transition:height .5s}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{align-items:center;border-radius:10px;border:2px solid #d3d3d3;display:flex;flex-direction:column;font-weight:700;height:200px;justify-content:space-evenly;margin:10px;padding:5px 5px 0;-webkit-user-select:none;user-select:none;width:200px;box-shadow:1px 1px 1px #b4b4b4,inset 0 0 10px #ececec;-moz-box-shadow:1px 1px 1px #b4b4b4,inset 0 0 10px #ececec;-webkit-box-shadow:1px 1px 1px #b4b4b4,inset 0 0 10px #ececec}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{border:2px solid #505050}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:active{border:2px solid #79a1e2;box-shadow:inset 0 0 1px 1px #5187ff,inset 0 0 10px #ececec;-moz-box-shadow:inset 0 0 1px 1px #5187ff,inset 0 0 10px #ececec;-webkit-box-shadow:inset 0 0 1px 1px #5187ff,inset 0 0 10px #ececec}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;max-height:100px}"]}),t})(),Nm=(()=>{class t{constructor(){this.title="posMockInterface",this.variables=Sm}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:10,vars:0,consts:[["role","banner",1,"toolbar"],[1,"spacer"],["href","/main",1,"nav-link"],["href","/orders",1,"nav-link"],["role","main",1,"content"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"span"),r._uU(2,"POS Mockup"),r.qZA(),r._UZ(3,"div",1),r.TgZ(4,"a",2),r._uU(5,"Main"),r.qZA(),r.TgZ(6,"a",3),r._uU(7,"Orders"),r.qZA(),r.qZA(),r.TgZ(8,"div",4),r._UZ(9,"item-picker"),r.qZA())},directives:[km],styles:["app-root{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}item-picker{width:100%;max-width:800px}h1,h2,h3,h4,h5,h6{margin:8px 0}p{margin:0}sup{font-size:100%;vertical-align:text-top}.spacer{flex:1}.toolbar{align-items:center;background-color:#3d8be6;color:#fff;display:flex;font-weight:600;height:60px;left:0;position:fixed;right:0;top:0}.toolbar span{margin:0 16px}.toolbar .nav-link{background-color:#3b658f;color:#fff;display:flex;flex-direction:column;height:100%;justify-content:center;margin:0 5px;padding:0 25px}.toolbar .nav-link:last-of-type{margin-right:10px}.content{align-items:center;display:flex;flex-direction:column;margin:82px auto 32px;max-width:960px;padding:0 16px}"],encapsulation:2}),t})(),Dm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[Nm]}),t.\u0275inj=r.cJS({providers:[],imports:[[J,Q.hO.initializeApp(Z),fg,Tm]]}),t})();(0,r.G48)(),z().bootstrapModule(Dm).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}}},t=>{"use strict";t(t.s=5338)}]);